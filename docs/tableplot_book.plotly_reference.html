<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Plotly API reference ðŸ“– â€“ Tableplot</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./tableplot_book.hanami_walkthrough.html" rel="next">
<link href="./tableplot_book.plotly_walkthrough.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-fdfe4eff6ff3763f687a23cc28761d76.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./tableplot_book.plotly_reference.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Plotly API reference ðŸ“–</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Tableplot</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface ðŸ‘‹</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tableplot_book.datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Some datasets ðŸ“Ž</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tableplot_book.plotly_walkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Plotly walkthrough ðŸ‘£</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tableplot_book.plotly_reference.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Plotly API reference ðŸ“–</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tableplot_book.hanami_walkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Hanami walkthrough ðŸ‘£</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup"><span class="header-section-number">4.1</span> Setup</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview"><span class="header-section-number">4.2</span> Overview</a></li>
  <li><a href="#debugging" id="toc-debugging" class="nav-link" data-scroll-target="#debugging"><span class="header-section-number">4.3</span> Debugging</a></li>
  <li><a href="#raw-plotly-specifications" id="toc-raw-plotly-specifications" class="nav-link" data-scroll-target="#raw-plotly-specifications"><span class="header-section-number">4.4</span> Raw Plotly specifications</a></li>
  <li><a href="#concepts" id="toc-concepts" class="nav-link" data-scroll-target="#concepts"><span class="header-section-number">4.5</span> Concepts</a>
  <ul>
  <li><a href="#plotly.js-traces" id="toc-plotly.js-traces" class="nav-link" data-scroll-target="#plotly.js-traces"><span class="header-section-number">4.5.1</span> Plotly.js traces</a></li>
  <li><a href="#layers" id="toc-layers" class="nav-link" data-scroll-target="#layers"><span class="header-section-number">4.5.2</span> Layers</a></li>
  <li><a href="#mark" id="toc-mark" class="nav-link" data-scroll-target="#mark"><span class="header-section-number">4.5.3</span> Mark</a></li>
  <li><a href="#coordinates" id="toc-coordinates" class="nav-link" data-scroll-target="#coordinates"><span class="header-section-number">4.5.4</span> Coordinates</a></li>
  <li><a href="#plotly.js-mode-and-type" id="toc-plotly.js-mode-and-type" class="nav-link" data-scroll-target="#plotly.js-mode-and-type"><span class="header-section-number">4.5.5</span> Plotly.js mode and type</a></li>
  <li><a href="#field-types" id="toc-field-types" class="nav-link" data-scroll-target="#field-types"><span class="header-section-number">4.5.6</span> Field types</a></li>
  <li><a href="#stat" id="toc-stat" class="nav-link" data-scroll-target="#stat"><span class="header-section-number">4.5.7</span> Stat</a></li>
  </ul></li>
  <li><a href="#api-functions" id="toc-api-functions" class="nav-link" data-scroll-target="#api-functions"><span class="header-section-number">4.6</span> API functions</a>
  <ul>
  <li><a href="#base" id="toc-base" class="nav-link" data-scroll-target="#base"><span class="header-section-number">4.6.1</span> <code>base</code></a>
  <ul class="collapse">
  <li><a href="#for-example" id="toc-for-example" class="nav-link" data-scroll-target="#for-example"><span class="header-section-number">4.6.1.1</span> For example:</a></li>
  </ul></li>
  <li><a href="#layer" id="toc-layer" class="nav-link" data-scroll-target="#layer"><span class="header-section-number">4.6.2</span> <code>layer</code></a>
  <ul class="collapse">
  <li><a href="#for-example-1" id="toc-for-example-1" class="nav-link" data-scroll-target="#for-example-1"><span class="header-section-number">4.6.2.1</span> For example:</a></li>
  </ul></li>
  <li><a href="#layer-point" id="toc-layer-point" class="nav-link" data-scroll-target="#layer-point"><span class="header-section-number">4.6.3</span> <code>layer-point</code></a>
  <ul class="collapse">
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">4.6.3.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-line" id="toc-layer-line" class="nav-link" data-scroll-target="#layer-line"><span class="header-section-number">4.6.4</span> <code>layer-line</code></a>
  <ul class="collapse">
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1"><span class="header-section-number">4.6.4.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-bar" id="toc-layer-bar" class="nav-link" data-scroll-target="#layer-bar"><span class="header-section-number">4.6.5</span> <code>layer-bar</code></a>
  <ul class="collapse">
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2"><span class="header-section-number">4.6.5.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-boxplot" id="toc-layer-boxplot" class="nav-link" data-scroll-target="#layer-boxplot"><span class="header-section-number">4.6.6</span> <code>layer-boxplot</code></a>
  <ul class="collapse">
  <li><a href="#example-3" id="toc-example-3" class="nav-link" data-scroll-target="#example-3"><span class="header-section-number">4.6.6.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-segment" id="toc-layer-segment" class="nav-link" data-scroll-target="#layer-segment"><span class="header-section-number">4.6.7</span> <code>layer-segment</code></a>
  <ul class="collapse">
  <li><a href="#example-4" id="toc-example-4" class="nav-link" data-scroll-target="#example-4"><span class="header-section-number">4.6.7.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-text" id="toc-layer-text" class="nav-link" data-scroll-target="#layer-text"><span class="header-section-number">4.6.8</span> <code>layer-text</code></a>
  <ul class="collapse">
  <li><a href="#example-5" id="toc-example-5" class="nav-link" data-scroll-target="#example-5"><span class="header-section-number">4.6.8.1</span> Example:</a></li>
  </ul></li>
  <li><a href="#layer-histogram" id="toc-layer-histogram" class="nav-link" data-scroll-target="#layer-histogram"><span class="header-section-number">4.6.9</span> <code>layer-histogram</code></a>
  <ul class="collapse">
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">4.6.9.1</span> Examples:</a></li>
  </ul></li>
  <li><a href="#layer-density" id="toc-layer-density" class="nav-link" data-scroll-target="#layer-density"><span class="header-section-number">4.6.10</span> <code>layer-density</code></a>
  <ul class="collapse">
  <li><a href="#examples-1" id="toc-examples-1" class="nav-link" data-scroll-target="#examples-1"><span class="header-section-number">4.6.10.1</span> Examples:</a></li>
  </ul></li>
  <li><a href="#layer-smooth" id="toc-layer-smooth" class="nav-link" data-scroll-target="#layer-smooth"><span class="header-section-number">4.6.11</span> <code>layer-smooth</code></a>
  <ul class="collapse">
  <li><a href="#examples-2" id="toc-examples-2" class="nav-link" data-scroll-target="#examples-2"><span class="header-section-number">4.6.11.1</span> Examples:</a></li>
  </ul></li>
  <li><a href="#plot" id="toc-plot" class="nav-link" data-scroll-target="#plot"><span class="header-section-number">4.6.12</span> <code>plot</code></a>
  <ul class="collapse">
  <li><a href="#for-example-2" id="toc-for-example-2" class="nav-link" data-scroll-target="#for-example-2"><span class="header-section-number">4.6.12.1</span> For example:</a></li>
  </ul></li>
  <li><a href="#debug" id="toc-debug" class="nav-link" data-scroll-target="#debug"><span class="header-section-number">4.6.13</span> <code>debug</code></a>
  <ul class="collapse">
  <li><a href="#for-example-3" id="toc-for-example-3" class="nav-link" data-scroll-target="#for-example-3"><span class="header-section-number">4.6.13.1</span> For example:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#stats" id="toc-stats" class="nav-link" data-scroll-target="#stats"><span class="header-section-number">4.7</span> Stats</a>
  <ul>
  <li><a href="#histogram-stat" id="toc-histogram-stat" class="nav-link" data-scroll-target="#histogram-stat"><span class="header-section-number">4.7.1</span> <code>histogram-stat</code></a></li>
  <li><a href="#density-stat" id="toc-density-stat" class="nav-link" data-scroll-target="#density-stat"><span class="header-section-number">4.7.2</span> <code>density-stat</code></a></li>
  <li><a href="#smooth-stat" id="toc-smooth-stat" class="nav-link" data-scroll-target="#smooth-stat"><span class="header-section-number">4.7.3</span> <code>smooth-stat</code></a></li>
  </ul></li>
  <li><a href="#substitution-keys" id="toc-substitution-keys" class="nav-link" data-scroll-target="#substitution-keys"><span class="header-section-number">4.8</span> Substitution Keys</a>
  <ul>
  <li><a href="#stat-1" id="toc-stat-1" class="nav-link" data-scroll-target="#stat-1"><span class="header-section-number">4.8.1</span> <code>:=stat</code></a></li>
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset"><span class="header-section-number">4.8.2</span> <code>:=dataset</code></a></li>
  <li><a href="#x" id="toc-x" class="nav-link" data-scroll-target="#x"><span class="header-section-number">4.8.3</span> <code>:=x</code></a></li>
  <li><a href="#x-after-stat" id="toc-x-after-stat" class="nav-link" data-scroll-target="#x-after-stat"><span class="header-section-number">4.8.4</span> <code>:=x-after-stat</code></a></li>
  <li><a href="#y" id="toc-y" class="nav-link" data-scroll-target="#y"><span class="header-section-number">4.8.5</span> <code>:=y</code></a></li>
  <li><a href="#y-after-stat" id="toc-y-after-stat" class="nav-link" data-scroll-target="#y-after-stat"><span class="header-section-number">4.8.6</span> <code>:=y-after-stat</code></a></li>
  <li><a href="#z" id="toc-z" class="nav-link" data-scroll-target="#z"><span class="header-section-number">4.8.7</span> <code>:=z</code></a></li>
  <li><a href="#z-after-stat" id="toc-z-after-stat" class="nav-link" data-scroll-target="#z-after-stat"><span class="header-section-number">4.8.8</span> <code>:=z-after-stat</code></a></li>
  <li><a href="#x0" id="toc-x0" class="nav-link" data-scroll-target="#x0"><span class="header-section-number">4.8.9</span> <code>:=x0</code></a></li>
  <li><a href="#x0-after-stat" id="toc-x0-after-stat" class="nav-link" data-scroll-target="#x0-after-stat"><span class="header-section-number">4.8.10</span> <code>:=x0-after-stat</code></a></li>
  <li><a href="#y0" id="toc-y0" class="nav-link" data-scroll-target="#y0"><span class="header-section-number">4.8.11</span> <code>:=y0</code></a></li>
  <li><a href="#y0-after-stat" id="toc-y0-after-stat" class="nav-link" data-scroll-target="#y0-after-stat"><span class="header-section-number">4.8.12</span> <code>:=y0-after-stat</code></a></li>
  <li><a href="#x1" id="toc-x1" class="nav-link" data-scroll-target="#x1"><span class="header-section-number">4.8.13</span> <code>:=x1</code></a></li>
  <li><a href="#x1-after-stat" id="toc-x1-after-stat" class="nav-link" data-scroll-target="#x1-after-stat"><span class="header-section-number">4.8.14</span> <code>:=x1-after-stat</code></a></li>
  <li><a href="#y1" id="toc-y1" class="nav-link" data-scroll-target="#y1"><span class="header-section-number">4.8.15</span> <code>:=y1</code></a></li>
  <li><a href="#y1-after-stat" id="toc-y1-after-stat" class="nav-link" data-scroll-target="#y1-after-stat"><span class="header-section-number">4.8.16</span> <code>:=y1-after-stat</code></a></li>
  <li><a href="#bar-width" id="toc-bar-width" class="nav-link" data-scroll-target="#bar-width"><span class="header-section-number">4.8.17</span> <code>:=bar-width</code></a></li>
  <li><a href="#color" id="toc-color" class="nav-link" data-scroll-target="#color"><span class="header-section-number">4.8.18</span> <code>:=color</code></a></li>
  <li><a href="#size" id="toc-size" class="nav-link" data-scroll-target="#size"><span class="header-section-number">4.8.19</span> <code>:=size</code></a></li>
  <li><a href="#x-type" id="toc-x-type" class="nav-link" data-scroll-target="#x-type"><span class="header-section-number">4.8.20</span> <code>:=x-type</code></a></li>
  <li><a href="#x-type-after-stat" id="toc-x-type-after-stat" class="nav-link" data-scroll-target="#x-type-after-stat"><span class="header-section-number">4.8.21</span> <code>:=x-type-after-stat</code></a></li>
  <li><a href="#y-type" id="toc-y-type" class="nav-link" data-scroll-target="#y-type"><span class="header-section-number">4.8.22</span> <code>:=y-type</code></a></li>
  <li><a href="#y-type-after-stat" id="toc-y-type-after-stat" class="nav-link" data-scroll-target="#y-type-after-stat"><span class="header-section-number">4.8.23</span> <code>:=y-type-after-stat</code></a></li>
  <li><a href="#z-type" id="toc-z-type" class="nav-link" data-scroll-target="#z-type"><span class="header-section-number">4.8.24</span> <code>:=z-type</code></a></li>
  <li><a href="#z-type-after-stat" id="toc-z-type-after-stat" class="nav-link" data-scroll-target="#z-type-after-stat"><span class="header-section-number">4.8.25</span> <code>:=z-type-after-stat</code></a></li>
  <li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">4.8.26</span> <code>:=r</code></a></li>
  <li><a href="#theta" id="toc-theta" class="nav-link" data-scroll-target="#theta"><span class="header-section-number">4.8.27</span> <code>:=theta</code></a></li>
  <li><a href="#lat" id="toc-lat" class="nav-link" data-scroll-target="#lat"><span class="header-section-number">4.8.28</span> <code>:=lat</code></a></li>
  <li><a href="#lon" id="toc-lon" class="nav-link" data-scroll-target="#lon"><span class="header-section-number">4.8.29</span> <code>:=lon</code></a></li>
  <li><a href="#color-type" id="toc-color-type" class="nav-link" data-scroll-target="#color-type"><span class="header-section-number">4.8.30</span> <code>:=color-type</code></a></li>
  <li><a href="#size-type" id="toc-size-type" class="nav-link" data-scroll-target="#size-type"><span class="header-section-number">4.8.31</span> <code>:=size-type</code></a></li>
  <li><a href="#mark-color" id="toc-mark-color" class="nav-link" data-scroll-target="#mark-color"><span class="header-section-number">4.8.32</span> <code>:=mark-color</code></a></li>
  <li><a href="#mark-size" id="toc-mark-size" class="nav-link" data-scroll-target="#mark-size"><span class="header-section-number">4.8.33</span> <code>:=mark-size</code></a></li>
  <li><a href="#marker-size-key" id="toc-marker-size-key" class="nav-link" data-scroll-target="#marker-size-key"><span class="header-section-number">4.8.34</span> <code>:=marker-size-key</code></a></li>
  <li><a href="#mark-fill" id="toc-mark-fill" class="nav-link" data-scroll-target="#mark-fill"><span class="header-section-number">4.8.35</span> <code>:=mark-fill</code></a></li>
  <li><a href="#mark-opacity" id="toc-mark-opacity" class="nav-link" data-scroll-target="#mark-opacity"><span class="header-section-number">4.8.36</span> <code>:=mark-opacity</code></a></li>
  <li><a href="#text" id="toc-text" class="nav-link" data-scroll-target="#text"><span class="header-section-number">4.8.37</span> <code>:=text</code></a></li>
  <li><a href="#textfont" id="toc-textfont" class="nav-link" data-scroll-target="#textfont"><span class="header-section-number">4.8.38</span> <code>:=textfont</code></a></li>
  <li><a href="#mark-1" id="toc-mark-1" class="nav-link" data-scroll-target="#mark-1"><span class="header-section-number">4.8.39</span> <code>:=mark</code></a></li>
  <li><a href="#mode" id="toc-mode" class="nav-link" data-scroll-target="#mode"><span class="header-section-number">4.8.40</span> <code>:=mode</code></a></li>
  <li><a href="#type" id="toc-type" class="nav-link" data-scroll-target="#type"><span class="header-section-number">4.8.41</span> <code>:=type</code></a></li>
  <li><a href="#name" id="toc-name" class="nav-link" data-scroll-target="#name"><span class="header-section-number">4.8.42</span> <code>:=name</code></a></li>
  <li><a href="#layers-1" id="toc-layers-1" class="nav-link" data-scroll-target="#layers-1"><span class="header-section-number">4.8.43</span> <code>:=layers</code></a></li>
  <li><a href="#traces" id="toc-traces" class="nav-link" data-scroll-target="#traces"><span class="header-section-number">4.8.44</span> <code>:=traces</code></a></li>
  <li><a href="#layout" id="toc-layout" class="nav-link" data-scroll-target="#layout"><span class="header-section-number">4.8.45</span> <code>:=layout</code></a></li>
  <li><a href="#inferred-group" id="toc-inferred-group" class="nav-link" data-scroll-target="#inferred-group"><span class="header-section-number">4.8.46</span> <code>:=inferred-group</code></a></li>
  <li><a href="#group" id="toc-group" class="nav-link" data-scroll-target="#group"><span class="header-section-number">4.8.47</span> <code>:=group</code></a></li>
  <li><a href="#predictors" id="toc-predictors" class="nav-link" data-scroll-target="#predictors"><span class="header-section-number">4.8.48</span> <code>:=predictors</code></a></li>
  <li><a href="#design-matrix" id="toc-design-matrix" class="nav-link" data-scroll-target="#design-matrix"><span class="header-section-number">4.8.49</span> <code>:=design-matrix</code></a></li>
  <li><a href="#model-options" id="toc-model-options" class="nav-link" data-scroll-target="#model-options"><span class="header-section-number">4.8.50</span> <code>:=model-options</code></a></li>
  <li><a href="#histogram-nbins" id="toc-histogram-nbins" class="nav-link" data-scroll-target="#histogram-nbins"><span class="header-section-number">4.8.51</span> <code>:=histogram-nbins</code></a></li>
  <li><a href="#density-bandwidth" id="toc-density-bandwidth" class="nav-link" data-scroll-target="#density-bandwidth"><span class="header-section-number">4.8.52</span> <code>:=density-bandwidth</code></a></li>
  <li><a href="#coordinates-1" id="toc-coordinates-1" class="nav-link" data-scroll-target="#coordinates-1"><span class="header-section-number">4.8.53</span> <code>:=coordinates</code></a></li>
  <li><a href="#height" id="toc-height" class="nav-link" data-scroll-target="#height"><span class="header-section-number">4.8.54</span> <code>:=height</code></a></li>
  <li><a href="#width" id="toc-width" class="nav-link" data-scroll-target="#width"><span class="header-section-number">4.8.55</span> <code>:=width</code></a></li>
  <li><a href="#margin" id="toc-margin" class="nav-link" data-scroll-target="#margin"><span class="header-section-number">4.8.56</span> <code>:=margin</code></a></li>
  <li><a href="#automargin" id="toc-automargin" class="nav-link" data-scroll-target="#automargin"><span class="header-section-number">4.8.57</span> <code>:=automargin</code></a></li>
  <li><a href="#x-title" id="toc-x-title" class="nav-link" data-scroll-target="#x-title"><span class="header-section-number">4.8.58</span> <code>:=x-title</code></a></li>
  <li><a href="#y-title" id="toc-y-title" class="nav-link" data-scroll-target="#y-title"><span class="header-section-number">4.8.59</span> <code>:=y-title</code></a></li>
  <li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title"><span class="header-section-number">4.8.60</span> <code>:=title</code></a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background"><span class="header-section-number">4.8.61</span> <code>:=background</code></a></li>
  <li><a href="#xaxis-gridcolor" id="toc-xaxis-gridcolor" class="nav-link" data-scroll-target="#xaxis-gridcolor"><span class="header-section-number">4.8.62</span> <code>:=xaxis-gridcolor</code></a></li>
  <li><a href="#yaxis-gridcolor" id="toc-yaxis-gridcolor" class="nav-link" data-scroll-target="#yaxis-gridcolor"><span class="header-section-number">4.8.63</span> <code>:=yaxis-gridcolor</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Plotly API reference ðŸ“–</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style></style>
<style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style>
<style>.clay-limit-image-width .clay-image {max-width: 100%}
.clay-side-by-side .sourceCode {margin: 0}
.clay-side-by-side {margin: 1em 0}
</style>
<script src="tableplot_book.plotly_reference_files/md-default0.js" type="text/javascript"></script>
<script src="tableplot_book.plotly_reference_files/md-default1.js" type="text/javascript"></script>
<script src="tableplot_book.plotly_reference_files/plotly2.js" type="text/javascript"></script>
<script src="tableplot_book.plotly_reference_files/portal3.js" type="text/javascript"></script>
<p>This chapter is a detailed refernce of Tableplotâ€™s Plotly API. For diverse examples, see the <a href="./tableplot_book.plotly_walkthrough.html">Plotly API Walkthrough</a>.</p>
<section id="setup" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="setup"><span class="header-section-number">4.1</span> Setup</h2>
<p>In this tutorial, we use:</p>
<ul>
<li>The Tableplot plotly API namepace</li>
<li><a href="https://scicloj.github.io/tablecloth/">Tablecloth</a> for dataset processing and column processing</li>
<li><a href="https://scicloj.github.io/kindly-noted/">Kindly</a> (to specify how certain values should be visualized)</li>
<li>the datasets defined in the <a href="./tableplot_book.datasets.html">Datasets chapter</a></li>
</ul>
<p>We require a few aditional namespaces which are used internally to generate this reference.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb1"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">ns</span> tableplot-book.plotly-reference</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  (<span class="at">:require</span> [scicloj.tableplot.v1.plotly <span class="at">:as</span> plotly]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            [tablecloth.api <span class="at">:as</span> tc]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            [tablecloth.column.api <span class="at">:as</span> tcc]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            [scicloj.kindly.v4.kind <span class="at">:as</span> kind]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            [scicloj.kindly.v4.api <span class="at">:as</span> kindly]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            [scicloj.tableplot.v1.dag <span class="at">:as</span> dag]</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            [tableplot-book.datasets <span class="at">:as</span> datasets]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            [clojure.string <span class="at">:as</span> <span class="kw">str</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            [aerial.hanami.common <span class="at">:as</span> hc]</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            [scicloj.clay.v2.api <span class="at">:as</span> clay]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="overview" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="overview"><span class="header-section-number">4.2</span> Overview</h2>
<p>The Tableplot Plotly API allows the user to write functional pipelines that create and process <em>templates</em> of plots, that can eventually be realized as <a href="https://plotly.com/javascript/">Plotly.js</a> specifications.</p>
<p>The data is assumed to be held in datasets defined by <a href="https://github.com/techascent/tech.ml.dataset">tech.ml.dataset</a> (which can conveniently be used using <a href="https://scicloj.github.io/tablecloth">Tablecloth</a>).</p>
<p>The templates are an adapted version of <a href="https://github.com/jsa-aerial/hanami?tab=readme-ov-file#templates-substitution-keys-and-transformations">Hanami Templates</a>. Hanami transforms templates by recursively applying a simple set of rules. The rules are based on looking up <em>substitution keys</em> according to standard defaults as well as user substitutions overriding those defaults. Tableplot uses a slighly adapted version of Hanamiâ€™s template transformations, which makes sure not to recurse into datasets.</p>
<p>For example, the <a href="#layer-point"><code>layer-point</code></a> function generates a template with some specified substitutions. Let us apply this function to a dataset with some user substitutions. As you can see below, all the substitution keys are keywords beginning with <code>=</code>. E.g., <a href="#color-type"><code>:=color-type</code></a>. This is just a convention that helps distinguish their role from other keys.</p>
<p>By default, this template is displayed by realizing it as an actual Plotly.js specification.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb2"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">10</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>To inspect it, let us use <a href="https://scicloj.github.io/kindly-noted/">Kindly</a> to request that this template would rather be pretty-printed as a data structure.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb3"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">10</span>})</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    kind/pprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb4"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:data</span> :=traces,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> <span class="at">:layout</span> :=layout,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a> <span class="at">:aerial.hanami.templates/defaults</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> {:=textfont <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  :=x0 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  :=y-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  :=coordinates <span class="at">:2d</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  :=x0-after-stat :=x0,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  :=z-after-stat :=z,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  :=layers</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  [{<span class="at">:y</span> :=y-after-stat,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">:trace-base</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    {<span class="at">:mode</span> :=mode,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">:type</span> :=type,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">:opacity</span> :=mark-opacity,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">:textfont</span> :=textfont},</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">:color-type</span> :=color-type,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">:r</span> :=r,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">:coordinates</span> :=coordinates,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">:group</span> :=group,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">:color</span> :=color,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">:mark</span> :=mark,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">:x-title</span> :=x-title,</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">:name</span> :=name,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">:fill</span> :=mark-fill,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">:y1</span> :=y1-after-stat,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">:bar-width</span> :=bar-width,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">:theta</span> :=theta,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">:size</span> :=size,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">:size-type</span> :=size-type,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">:z</span> :=z-after-stat,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">:lon</span> :=lon,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">:aerial.hanami.templates/defaults</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    {:=textfont <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>     :=x0 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>     :=y-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>     :=coordinates <span class="at">:2d</span>,</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>     :=x0-after-stat :=x0,</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>     :=z-after-stat :=z,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>     :=layers [],</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>     :=mark-fill <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>     :=x1 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>     :=title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>     :=z-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>     :=y1 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>     :=y-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>     :=height <span class="dv">400</span>,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>     :=name <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>     :=mark-opacity <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>     :=inferred-group #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>     :=density-bandwidth <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>     :=mode #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>     :=y-title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>     :=z-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>     :=size <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>     :=model-options {<span class="at">:model-type</span> <span class="at">:fastmath/ols</span>},</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>     :=group :=inferred-group,</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>     :=y0 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>     :=mark-size <span class="dv">10</span>,</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>     :=design-matrix #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>     :=size-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>     :=r <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>     :=color <span class="at">:species</span>,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>     :=mark-color <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>     :=bar-width <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>     :=y1-after-stat :=y1,</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>     :=x <span class="at">:sepal-width</span>,</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>     :=x-after-stat :=x,</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>     :=yaxis-gridcolor <span class="st">"rgb(255,255,255)"</span>,</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>     :=lon <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>     :=text <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>     :=type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>     :=x-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>     :=traces #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>     :=x-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>     :=histogram-nbins <span class="dv">10</span>,</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>     :=automargin <span class="va">false</span>,</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>     :=stat :=dataset,</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>     :=z <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>     :=width <span class="dv">500</span>,</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>     :=lat <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>     :=margin {<span class="at">:t</span> <span class="dv">25</span>},</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>     :=color-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>     :=xaxis-gridcolor <span class="st">"rgb(255,255,255)"</span>,</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>     :=mark <span class="at">:point</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>     :=x-title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>     :=layout #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>     :=y <span class="at">:sepal-length</span>,</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>     :=x1-after-stat :=x1,</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>     :=dataset datasets/iris [<span class="dv">150</span> <span class="dv">6</span>]:</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>| <span class="at">:rownames</span> | <span class="at">:sepal-length</span> | <span class="at">:sepal-width</span> | <span class="at">:petal-length</span> | <span class="at">:petal-width</span> |  <span class="at">:species</span> |</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>|----------:|--------------:|-------------:|--------------:|-------------:|-----------|</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">1</span> |           <span class="fl">5.1</span> |          <span class="fl">3.5</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">2</span> |           <span class="fl">4.9</span> |          <span class="fl">3.0</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">3</span> |           <span class="fl">4.7</span> |          <span class="fl">3.2</span> |           <span class="fl">1.3</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">4</span> |           <span class="fl">4.6</span> |          <span class="fl">3.1</span> |           <span class="fl">1.5</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">5</span> |           <span class="fl">5.0</span> |          <span class="fl">3.6</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">6</span> |           <span class="fl">5.4</span> |          <span class="fl">3.9</span> |           <span class="fl">1.7</span> |          <span class="fl">0.4</span> |    setosa |</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">7</span> |           <span class="fl">4.6</span> |          <span class="fl">3.4</span> |           <span class="fl">1.4</span> |          <span class="fl">0.3</span> |    setosa |</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">8</span> |           <span class="fl">5.0</span> |          <span class="fl">3.4</span> |           <span class="fl">1.5</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">9</span> |           <span class="fl">4.4</span> |          <span class="fl">2.9</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">10</span> |           <span class="fl">4.9</span> |          <span class="fl">3.1</span> |           <span class="fl">1.5</span> |          <span class="fl">0.1</span> |    setosa |</span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>|       ... |           ... |          ... |           ... |          ... |       ... |</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">140</span> |           <span class="fl">6.9</span> |          <span class="fl">3.1</span> |           <span class="fl">5.4</span> |          <span class="fl">2.1</span> | virginica |</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">141</span> |           <span class="fl">6.7</span> |          <span class="fl">3.1</span> |           <span class="fl">5.6</span> |          <span class="fl">2.4</span> | virginica |</span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">142</span> |           <span class="fl">6.9</span> |          <span class="fl">3.1</span> |           <span class="fl">5.1</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">143</span> |           <span class="fl">5.8</span> |          <span class="fl">2.7</span> |           <span class="fl">5.1</span> |          <span class="fl">1.9</span> | virginica |</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">144</span> |           <span class="fl">6.8</span> |          <span class="fl">3.2</span> |           <span class="fl">5.9</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">145</span> |           <span class="fl">6.7</span> |          <span class="fl">3.3</span> |           <span class="fl">5.7</span> |          <span class="fl">2.5</span> | virginica |</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">146</span> |           <span class="fl">6.7</span> |          <span class="fl">3.0</span> |           <span class="fl">5.2</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">147</span> |           <span class="fl">6.3</span> |          <span class="fl">2.5</span> |           <span class="fl">5.0</span> |          <span class="fl">1.9</span> | virginica |</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">148</span> |           <span class="fl">6.5</span> |          <span class="fl">3.0</span> |           <span class="fl">5.2</span> |          <span class="fl">2.0</span> | virginica |</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">149</span> |           <span class="fl">6.2</span> |          <span class="fl">3.4</span> |           <span class="fl">5.4</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">150</span> |           <span class="fl">5.9</span> |          <span class="fl">3.0</span> |           <span class="fl">5.1</span> |          <span class="fl">1.8</span> | virginica |</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>     :=background <span class="st">"rgb(235,235,235)"</span>,</span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>     :=theta <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>     :=y0-after-stat :=y0,</span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>     :=y-after-stat :=y,</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>     :=predictors [:=x],</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>     :=marker-size-key #function[clojure.lang.AFunction/<span class="dv">1</span>]},</span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">:lat</span> :=lat,</span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">:y0</span> :=y0-after-stat,</span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">:inferred-group</span> :=inferred-group,</span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">:marker-override</span></span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>    {<span class="at">:color</span> :=mark-color, :=marker-size-key :=mark-size},</span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">:x</span> :=x-after-stat,</span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">:x1</span> :=x1-after-stat,</span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">:x0</span> :=x0-after-stat,</span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">:y-title</span> :=y-title,</span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a>    <span class="at">:dataset</span> :=stat,</span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a>    <span class="at">:text</span> :=text}],</span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a>  :=mark-fill <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a>  :=x1 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a>  :=title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a>  :=z-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a>  :=y1 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a>  :=y-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a>  :=height <span class="dv">400</span>,</span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>  :=name <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a>  :=mark-opacity <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>  :=inferred-group #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>  :=density-bandwidth <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>  :=mode #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>  :=y-title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a>  :=z-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a>  :=size <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a>  :=model-options {<span class="at">:model-type</span> <span class="at">:fastmath/ols</span>},</span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a>  :=group :=inferred-group,</span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a>  :=y0 <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a>  :=mark-size <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a>  :=design-matrix #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a>  :=size-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a>  :=r <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a>  :=color <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a>  :=mark-color <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a>  :=bar-width <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a>  :=y1-after-stat :=y1,</span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a>  :=x <span class="at">:x</span>,</span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a>  :=x-after-stat :=x,</span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>  :=yaxis-gridcolor <span class="st">"rgb(255,255,255)"</span>,</span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>  :=lon <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a>  :=text <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a>  :=type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a>  :=x-type-after-stat #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a>  :=traces #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a>  :=x-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>  :=histogram-nbins <span class="dv">10</span>,</span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a>  :=automargin <span class="va">false</span>,</span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>  :=stat :=dataset,</span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a>  :=z <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>  :=width <span class="dv">500</span>,</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>  :=lat <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>  :=margin {<span class="at">:t</span> <span class="dv">25</span>},</span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>  :=color-type #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>  :=xaxis-gridcolor <span class="st">"rgb(255,255,255)"</span>,</span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a>  :=mark <span class="at">:point</span>,</span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a>  :=x-title <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a>  :=layout #function[clojure.lang.AFunction/<span class="dv">1</span>],</span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>  :=y <span class="at">:y</span>,</span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>  :=x1-after-stat :=x1,</span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>  :=dataset datasets/iris [<span class="dv">150</span> <span class="dv">6</span>]:</span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a>| <span class="at">:rownames</span> | <span class="at">:sepal-length</span> | <span class="at">:sepal-width</span> | <span class="at">:petal-length</span> | <span class="at">:petal-width</span> |  <span class="at">:species</span> |</span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a>|----------:|--------------:|-------------:|--------------:|-------------:|-----------|</span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">1</span> |           <span class="fl">5.1</span> |          <span class="fl">3.5</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">2</span> |           <span class="fl">4.9</span> |          <span class="fl">3.0</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">3</span> |           <span class="fl">4.7</span> |          <span class="fl">3.2</span> |           <span class="fl">1.3</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-190"><a href="#cb4-190" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">4</span> |           <span class="fl">4.6</span> |          <span class="fl">3.1</span> |           <span class="fl">1.5</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-191"><a href="#cb4-191" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">5</span> |           <span class="fl">5.0</span> |          <span class="fl">3.6</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-192"><a href="#cb4-192" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">6</span> |           <span class="fl">5.4</span> |          <span class="fl">3.9</span> |           <span class="fl">1.7</span> |          <span class="fl">0.4</span> |    setosa |</span>
<span id="cb4-193"><a href="#cb4-193" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">7</span> |           <span class="fl">4.6</span> |          <span class="fl">3.4</span> |           <span class="fl">1.4</span> |          <span class="fl">0.3</span> |    setosa |</span>
<span id="cb4-194"><a href="#cb4-194" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">8</span> |           <span class="fl">5.0</span> |          <span class="fl">3.4</span> |           <span class="fl">1.5</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-195"><a href="#cb4-195" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">9</span> |           <span class="fl">4.4</span> |          <span class="fl">2.9</span> |           <span class="fl">1.4</span> |          <span class="fl">0.2</span> |    setosa |</span>
<span id="cb4-196"><a href="#cb4-196" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">10</span> |           <span class="fl">4.9</span> |          <span class="fl">3.1</span> |           <span class="fl">1.5</span> |          <span class="fl">0.1</span> |    setosa |</span>
<span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a>|       ... |           ... |          ... |           ... |          ... |       ... |</span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">140</span> |           <span class="fl">6.9</span> |          <span class="fl">3.1</span> |           <span class="fl">5.4</span> |          <span class="fl">2.1</span> | virginica |</span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">141</span> |           <span class="fl">6.7</span> |          <span class="fl">3.1</span> |           <span class="fl">5.6</span> |          <span class="fl">2.4</span> | virginica |</span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">142</span> |           <span class="fl">6.9</span> |          <span class="fl">3.1</span> |           <span class="fl">5.1</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">143</span> |           <span class="fl">5.8</span> |          <span class="fl">2.7</span> |           <span class="fl">5.1</span> |          <span class="fl">1.9</span> | virginica |</span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">144</span> |           <span class="fl">6.8</span> |          <span class="fl">3.2</span> |           <span class="fl">5.9</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">145</span> |           <span class="fl">6.7</span> |          <span class="fl">3.3</span> |           <span class="fl">5.7</span> |          <span class="fl">2.5</span> | virginica |</span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">146</span> |           <span class="fl">6.7</span> |          <span class="fl">3.0</span> |           <span class="fl">5.2</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">147</span> |           <span class="fl">6.3</span> |          <span class="fl">2.5</span> |           <span class="fl">5.0</span> |          <span class="fl">1.9</span> | virginica |</span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">148</span> |           <span class="fl">6.5</span> |          <span class="fl">3.0</span> |           <span class="fl">5.2</span> |          <span class="fl">2.0</span> | virginica |</span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">149</span> |           <span class="fl">6.2</span> |          <span class="fl">3.4</span> |           <span class="fl">5.4</span> |          <span class="fl">2.3</span> | virginica |</span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">150</span> |           <span class="fl">5.9</span> |          <span class="fl">3.0</span> |           <span class="fl">5.1</span> |          <span class="fl">1.8</span> | virginica |</span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a>  :=background <span class="st">"rgb(235,235,235)"</span>,</span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a>  :=theta <span class="at">:com.rpl.specter.impl/NONE</span>,</span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>  :=y0-after-stat :=y0,</span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a>  :=y-after-stat :=y,</span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a>  :=predictors [:=x],</span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a>  :=marker-size-key #function[clojure.lang.AFunction/<span class="dv">1</span>]},</span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a> <span class="at">:kindly/f</span> <span class="va">#'scicloj.tableplot.v1.plotly/plotly-xform</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We may also inspect it with <a href="https://github.com/djblue/portal">Portal</a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb5"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">10</span>})</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    plotly/plot</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    kind/portal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div><script>portal_api.embed().renderOutputItem(
                {'mime': 'x-application/edn',
                 'text': (() => "^#:kindly{:options nil} {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :data]] [{^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :type]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"scatter\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :width]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lat]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :y]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :name]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"setosa\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :z]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :mode]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :markers]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :theta]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lon]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :r]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :text]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :marker]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :color]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"#1B9E77\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :size]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 10]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :x]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :fill]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]]} {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :type]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"scatter\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :width]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lat]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :y]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :name]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"versicolor\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :z]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :mode]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :markers]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :theta]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lon]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :r]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :text]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :marker]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :color]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"#D95F02\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :size]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 10]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :x]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :fill]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]]} {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :type]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"scatter\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :width]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lat]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :y]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 4.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 7.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 6.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 5.9]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :name]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"virginica\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :z]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :mode]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :markers]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :theta]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :lon]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :r]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :text]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :marker]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :color]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"#7570B3\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :size]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 10]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :x]] [^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.9]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.8]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.6]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.7]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.2]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.3]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 2.5]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.4]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 3.0]]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :fill]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]]}], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :layout]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :width]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 500]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :height]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 400]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :margin]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :t]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 25]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :automargin]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector false]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :plot_bgcolor]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"rgb(235,235,235)\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :xaxis]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :gridcolor]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"rgb(255,255,255)\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :title]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :sepal-width]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :yaxis]] {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :gridcolor]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"rgb(255,255,255)\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :title]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :sepal-length]]}, ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :title]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector nil]]}}")}
                , document.currentScript.parentElement);</script></div>
<p>For now, you are not supposed to make sense of this data representation. As a user, you usually do not need to think about it.</p>
<p>If you wish to see the actual Plotly.js specification, you can use the <a href="#plot"><code>plot</code></a> function:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb6"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">10</span>})</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    plotly/plot</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    kind/pprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb7"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a> [{<span class="at">:y</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">5.1</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.7</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.6</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.6</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.4</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.8</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.8</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.3</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.6</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.8</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.2</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.2</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.7</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.8</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.2</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.4</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.5</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.4</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.8</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.6</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.3</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span>],</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>   <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>   <span class="at">:name</span> <span class="st">"setosa"</span>,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>   <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#1B9E77"</span>, <span class="at">:size</span> <span class="dv">10</span>},</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>   <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>   <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>   <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>   <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>   <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>   <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>   <span class="at">:x</span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">3.5</span></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.6</span></span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.9</span></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.7</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.0</span></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.4</span></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.9</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.5</span></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.7</span></span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.6</span></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.3</span></span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.5</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.1</span></span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.2</span></span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.5</span></span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.6</span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.5</span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.3</span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.5</span></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.7</span></span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.3</span>],</span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a>   <span class="at">:text</span> <span class="va">nil</span>}</span>
<span id="cb7-116"><a href="#cb7-116" aria-hidden="true" tabindex="-1"></a>  {<span class="at">:y</span></span>
<span id="cb7-117"><a href="#cb7-117" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">7.0</span></span>
<span id="cb7-118"><a href="#cb7-118" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-119"><a href="#cb7-119" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.9</span></span>
<span id="cb7-120"><a href="#cb7-120" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-121"><a href="#cb7-121" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span></span>
<span id="cb7-122"><a href="#cb7-122" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-123"><a href="#cb7-123" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-124"><a href="#cb7-124" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-125"><a href="#cb7-125" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.6</span></span>
<span id="cb7-126"><a href="#cb7-126" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.2</span></span>
<span id="cb7-127"><a href="#cb7-127" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-128"><a href="#cb7-128" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.9</span></span>
<span id="cb7-129"><a href="#cb7-129" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-130"><a href="#cb7-130" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-131"><a href="#cb7-131" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-132"><a href="#cb7-132" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-133"><a href="#cb7-133" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-134"><a href="#cb7-134" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-135"><a href="#cb7-135" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.2</span></span>
<span id="cb7-136"><a href="#cb7-136" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-137"><a href="#cb7-137" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.9</span></span>
<span id="cb7-138"><a href="#cb7-138" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-139"><a href="#cb7-139" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-140"><a href="#cb7-140" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-141"><a href="#cb7-141" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-142"><a href="#cb7-142" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.6</span></span>
<span id="cb7-143"><a href="#cb7-143" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.8</span></span>
<span id="cb7-144"><a href="#cb7-144" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-145"><a href="#cb7-145" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-146"><a href="#cb7-146" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-147"><a href="#cb7-147" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-148"><a href="#cb7-148" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-149"><a href="#cb7-149" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-150"><a href="#cb7-150" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-151"><a href="#cb7-151" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.4</span></span>
<span id="cb7-152"><a href="#cb7-152" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-153"><a href="#cb7-153" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-154"><a href="#cb7-154" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-155"><a href="#cb7-155" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-156"><a href="#cb7-156" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-157"><a href="#cb7-157" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.5</span></span>
<span id="cb7-158"><a href="#cb7-158" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-159"><a href="#cb7-159" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-160"><a href="#cb7-160" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.0</span></span>
<span id="cb7-161"><a href="#cb7-161" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-162"><a href="#cb7-162" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-163"><a href="#cb7-163" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-164"><a href="#cb7-164" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.2</span></span>
<span id="cb7-165"><a href="#cb7-165" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.1</span></span>
<span id="cb7-166"><a href="#cb7-166" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span>],</span>
<span id="cb7-167"><a href="#cb7-167" aria-hidden="true" tabindex="-1"></a>   <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb7-168"><a href="#cb7-168" aria-hidden="true" tabindex="-1"></a>   <span class="at">:name</span> <span class="st">"versicolor"</span>,</span>
<span id="cb7-169"><a href="#cb7-169" aria-hidden="true" tabindex="-1"></a>   <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#D95F02"</span>, <span class="at">:size</span> <span class="dv">10</span>},</span>
<span id="cb7-170"><a href="#cb7-170" aria-hidden="true" tabindex="-1"></a>   <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb7-171"><a href="#cb7-171" aria-hidden="true" tabindex="-1"></a>   <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb7-172"><a href="#cb7-172" aria-hidden="true" tabindex="-1"></a>   <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb7-173"><a href="#cb7-173" aria-hidden="true" tabindex="-1"></a>   <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb7-174"><a href="#cb7-174" aria-hidden="true" tabindex="-1"></a>   <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb7-175"><a href="#cb7-175" aria-hidden="true" tabindex="-1"></a>   <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb7-176"><a href="#cb7-176" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb7-177"><a href="#cb7-177" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb7-178"><a href="#cb7-178" aria-hidden="true" tabindex="-1"></a>   <span class="at">:x</span></span>
<span id="cb7-179"><a href="#cb7-179" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">3.2</span></span>
<span id="cb7-180"><a href="#cb7-180" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-181"><a href="#cb7-181" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-182"><a href="#cb7-182" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.3</span></span>
<span id="cb7-183"><a href="#cb7-183" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-184"><a href="#cb7-184" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-185"><a href="#cb7-185" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.3</span></span>
<span id="cb7-186"><a href="#cb7-186" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.4</span></span>
<span id="cb7-187"><a href="#cb7-187" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-188"><a href="#cb7-188" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-189"><a href="#cb7-189" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.0</span></span>
<span id="cb7-190"><a href="#cb7-190" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-191"><a href="#cb7-191" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.2</span></span>
<span id="cb7-192"><a href="#cb7-192" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-193"><a href="#cb7-193" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-194"><a href="#cb7-194" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-195"><a href="#cb7-195" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-196"><a href="#cb7-196" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-197"><a href="#cb7-197" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.2</span></span>
<span id="cb7-198"><a href="#cb7-198" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-199"><a href="#cb7-199" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-200"><a href="#cb7-200" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-201"><a href="#cb7-201" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-202"><a href="#cb7-202" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-203"><a href="#cb7-203" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-204"><a href="#cb7-204" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-205"><a href="#cb7-205" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-206"><a href="#cb7-206" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-207"><a href="#cb7-207" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-208"><a href="#cb7-208" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.6</span></span>
<span id="cb7-209"><a href="#cb7-209" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.4</span></span>
<span id="cb7-210"><a href="#cb7-210" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.4</span></span>
<span id="cb7-211"><a href="#cb7-211" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-212"><a href="#cb7-212" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-213"><a href="#cb7-213" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-214"><a href="#cb7-214" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-215"><a href="#cb7-215" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-216"><a href="#cb7-216" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.3</span></span>
<span id="cb7-217"><a href="#cb7-217" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-218"><a href="#cb7-218" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-219"><a href="#cb7-219" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.6</span></span>
<span id="cb7-220"><a href="#cb7-220" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-221"><a href="#cb7-221" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.6</span></span>
<span id="cb7-222"><a href="#cb7-222" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.3</span></span>
<span id="cb7-223"><a href="#cb7-223" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-224"><a href="#cb7-224" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-225"><a href="#cb7-225" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-226"><a href="#cb7-226" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-227"><a href="#cb7-227" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-228"><a href="#cb7-228" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span>],</span>
<span id="cb7-229"><a href="#cb7-229" aria-hidden="true" tabindex="-1"></a>   <span class="at">:text</span> <span class="va">nil</span>}</span>
<span id="cb7-230"><a href="#cb7-230" aria-hidden="true" tabindex="-1"></a>  {<span class="at">:y</span></span>
<span id="cb7-231"><a href="#cb7-231" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">6.3</span></span>
<span id="cb7-232"><a href="#cb7-232" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-233"><a href="#cb7-233" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.1</span></span>
<span id="cb7-234"><a href="#cb7-234" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-235"><a href="#cb7-235" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span></span>
<span id="cb7-236"><a href="#cb7-236" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.6</span></span>
<span id="cb7-237"><a href="#cb7-237" aria-hidden="true" tabindex="-1"></a>    <span class="fl">4.9</span></span>
<span id="cb7-238"><a href="#cb7-238" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.3</span></span>
<span id="cb7-239"><a href="#cb7-239" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-240"><a href="#cb7-240" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.2</span></span>
<span id="cb7-241"><a href="#cb7-241" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span></span>
<span id="cb7-242"><a href="#cb7-242" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-243"><a href="#cb7-243" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.8</span></span>
<span id="cb7-244"><a href="#cb7-244" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.7</span></span>
<span id="cb7-245"><a href="#cb7-245" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-246"><a href="#cb7-246" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-247"><a href="#cb7-247" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span></span>
<span id="cb7-248"><a href="#cb7-248" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.7</span></span>
<span id="cb7-249"><a href="#cb7-249" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.7</span></span>
<span id="cb7-250"><a href="#cb7-250" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-251"><a href="#cb7-251" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.9</span></span>
<span id="cb7-252"><a href="#cb7-252" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span></span>
<span id="cb7-253"><a href="#cb7-253" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.7</span></span>
<span id="cb7-254"><a href="#cb7-254" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-255"><a href="#cb7-255" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-256"><a href="#cb7-256" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.2</span></span>
<span id="cb7-257"><a href="#cb7-257" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.2</span></span>
<span id="cb7-258"><a href="#cb7-258" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-259"><a href="#cb7-259" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-260"><a href="#cb7-260" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.2</span></span>
<span id="cb7-261"><a href="#cb7-261" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.4</span></span>
<span id="cb7-262"><a href="#cb7-262" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.9</span></span>
<span id="cb7-263"><a href="#cb7-263" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-264"><a href="#cb7-264" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-265"><a href="#cb7-265" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.1</span></span>
<span id="cb7-266"><a href="#cb7-266" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.7</span></span>
<span id="cb7-267"><a href="#cb7-267" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-268"><a href="#cb7-268" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.4</span></span>
<span id="cb7-269"><a href="#cb7-269" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.0</span></span>
<span id="cb7-270"><a href="#cb7-270" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.9</span></span>
<span id="cb7-271"><a href="#cb7-271" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-272"><a href="#cb7-272" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.9</span></span>
<span id="cb7-273"><a href="#cb7-273" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.8</span></span>
<span id="cb7-274"><a href="#cb7-274" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.8</span></span>
<span id="cb7-275"><a href="#cb7-275" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-276"><a href="#cb7-276" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.7</span></span>
<span id="cb7-277"><a href="#cb7-277" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.3</span></span>
<span id="cb7-278"><a href="#cb7-278" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span></span>
<span id="cb7-279"><a href="#cb7-279" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.2</span></span>
<span id="cb7-280"><a href="#cb7-280" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.9</span>],</span>
<span id="cb7-281"><a href="#cb7-281" aria-hidden="true" tabindex="-1"></a>   <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb7-282"><a href="#cb7-282" aria-hidden="true" tabindex="-1"></a>   <span class="at">:name</span> <span class="st">"virginica"</span>,</span>
<span id="cb7-283"><a href="#cb7-283" aria-hidden="true" tabindex="-1"></a>   <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#7570B3"</span>, <span class="at">:size</span> <span class="dv">10</span>},</span>
<span id="cb7-284"><a href="#cb7-284" aria-hidden="true" tabindex="-1"></a>   <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb7-285"><a href="#cb7-285" aria-hidden="true" tabindex="-1"></a>   <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb7-286"><a href="#cb7-286" aria-hidden="true" tabindex="-1"></a>   <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb7-287"><a href="#cb7-287" aria-hidden="true" tabindex="-1"></a>   <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb7-288"><a href="#cb7-288" aria-hidden="true" tabindex="-1"></a>   <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb7-289"><a href="#cb7-289" aria-hidden="true" tabindex="-1"></a>   <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb7-290"><a href="#cb7-290" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb7-291"><a href="#cb7-291" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb7-292"><a href="#cb7-292" aria-hidden="true" tabindex="-1"></a>   <span class="at">:x</span></span>
<span id="cb7-293"><a href="#cb7-293" aria-hidden="true" tabindex="-1"></a>   [<span class="fl">3.3</span></span>
<span id="cb7-294"><a href="#cb7-294" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-295"><a href="#cb7-295" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-296"><a href="#cb7-296" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-297"><a href="#cb7-297" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-298"><a href="#cb7-298" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-299"><a href="#cb7-299" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-300"><a href="#cb7-300" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.9</span></span>
<span id="cb7-301"><a href="#cb7-301" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-302"><a href="#cb7-302" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.6</span></span>
<span id="cb7-303"><a href="#cb7-303" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-304"><a href="#cb7-304" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-305"><a href="#cb7-305" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-306"><a href="#cb7-306" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-307"><a href="#cb7-307" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-308"><a href="#cb7-308" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-309"><a href="#cb7-309" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-310"><a href="#cb7-310" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-311"><a href="#cb7-311" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.6</span></span>
<span id="cb7-312"><a href="#cb7-312" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.2</span></span>
<span id="cb7-313"><a href="#cb7-313" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-314"><a href="#cb7-314" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-315"><a href="#cb7-315" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-316"><a href="#cb7-316" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-317"><a href="#cb7-317" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.3</span></span>
<span id="cb7-318"><a href="#cb7-318" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-319"><a href="#cb7-319" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-320"><a href="#cb7-320" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-321"><a href="#cb7-321" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-322"><a href="#cb7-322" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-323"><a href="#cb7-323" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-324"><a href="#cb7-324" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.8</span></span>
<span id="cb7-325"><a href="#cb7-325" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-326"><a href="#cb7-326" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.8</span></span>
<span id="cb7-327"><a href="#cb7-327" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.6</span></span>
<span id="cb7-328"><a href="#cb7-328" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-329"><a href="#cb7-329" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-330"><a href="#cb7-330" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-331"><a href="#cb7-331" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-332"><a href="#cb7-332" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-333"><a href="#cb7-333" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-334"><a href="#cb7-334" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.1</span></span>
<span id="cb7-335"><a href="#cb7-335" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.7</span></span>
<span id="cb7-336"><a href="#cb7-336" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.2</span></span>
<span id="cb7-337"><a href="#cb7-337" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.3</span></span>
<span id="cb7-338"><a href="#cb7-338" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-339"><a href="#cb7-339" aria-hidden="true" tabindex="-1"></a>    <span class="fl">2.5</span></span>
<span id="cb7-340"><a href="#cb7-340" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span></span>
<span id="cb7-341"><a href="#cb7-341" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span></span>
<span id="cb7-342"><a href="#cb7-342" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.0</span>],</span>
<span id="cb7-343"><a href="#cb7-343" aria-hidden="true" tabindex="-1"></a>   <span class="at">:text</span> <span class="va">nil</span>}],</span>
<span id="cb7-344"><a href="#cb7-344" aria-hidden="true" tabindex="-1"></a> <span class="at">:layout</span></span>
<span id="cb7-345"><a href="#cb7-345" aria-hidden="true" tabindex="-1"></a> {<span class="at">:width</span> <span class="dv">500</span>,</span>
<span id="cb7-346"><a href="#cb7-346" aria-hidden="true" tabindex="-1"></a>  <span class="at">:height</span> <span class="dv">400</span>,</span>
<span id="cb7-347"><a href="#cb7-347" aria-hidden="true" tabindex="-1"></a>  <span class="at">:margin</span> {<span class="at">:t</span> <span class="dv">25</span>},</span>
<span id="cb7-348"><a href="#cb7-348" aria-hidden="true" tabindex="-1"></a>  <span class="at">:automargin</span> <span class="va">false</span>,</span>
<span id="cb7-349"><a href="#cb7-349" aria-hidden="true" tabindex="-1"></a>  <span class="at">:plot</span>_bgcolor <span class="st">"rgb(235,235,235)"</span>,</span>
<span id="cb7-350"><a href="#cb7-350" aria-hidden="true" tabindex="-1"></a>  <span class="at">:xaxis</span> {<span class="at">:gridcolor</span> <span class="st">"rgb(255,255,255)"</span>, <span class="at">:title</span> <span class="at">:sepal-width</span>},</span>
<span id="cb7-351"><a href="#cb7-351" aria-hidden="true" tabindex="-1"></a>  <span class="at">:yaxis</span> {<span class="at">:gridcolor</span> <span class="st">"rgb(255,255,255)"</span>, <span class="at">:title</span> <span class="at">:sepal-length</span>},</span>
<span id="cb7-352"><a href="#cb7-352" aria-hidden="true" tabindex="-1"></a>  <span class="at">:title</span> <span class="va">nil</span>}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is useful for debugging, and also when one wishes to edit the Plotly.js spec directly.</p>
<p>In the remainder of this chapter, we will offer a detailed reference to the API functions, the way layers are defined, the substitution keys, and the relationships among them.</p>
</section>
<section id="debugging" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="debugging"><span class="header-section-number">4.3</span> Debugging</h2>
<p>Throughout this notebook, we will sometimes use the <a href="#debug"><code>debug</code></a> function that allows one to look into the value of a given substitution key in a given context.</p>
<p>For example, here we learn about the <a href="#background"><code>:=background</code></a> key for background color. In this example, we kept it grey, which is its default.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb8"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">10</span>})</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    (plotly/debug :=background))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb9"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="st">"rgb(235,235,235)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="raw-plotly-specifications" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="raw-plotly-specifications"><span class="header-section-number">4.4</span> Raw Plotly specifications</h2>
<p>Before beginning the exploration of Tableplotâ€™s Plotly API, let us remember we may also use the raw format supported by Plotly.js. We simply use plain Clojuree data structures to represent the JSON format expected by Plotly.js and annotate it as <code>kind/plotly</code>, so that our Clojure tooling knows to treat it as such when displaying it.</p>
<p>For example, let us reproduce one of its <a href="https://plotly.com/javascript/bubble-charts/">Bubble Chart Examples</a>.</p>
<p>The original Javascript code looks like this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> trace1 <span class="op">=</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>              <span class="dt">x</span><span class="op">:</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>              <span class="dt">y</span><span class="op">:</span> [<span class="dv">10</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">13</span>]<span class="op">,</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>              <span class="dt">text</span><span class="op">:</span> [<span class="st">'A&lt;br&gt;size: 40'</span><span class="op">,</span> <span class="st">'B&lt;br&gt;size: 60'</span><span class="op">,</span> <span class="st">'C&lt;br&gt;size: 80'</span><span class="op">,</span> <span class="st">'D&lt;br&gt;size: 100'</span>]<span class="op">,</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>              <span class="dt">mode</span><span class="op">:</span> <span class="st">'markers'</span><span class="op">,</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>              <span class="dt">marker</span><span class="op">:</span> {</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                       <span class="dt">color</span><span class="op">:</span> [<span class="st">'rgb(93, 164, 214)'</span><span class="op">,</span> <span class="st">'rgb(255, 144, 14)'</span><span class="op">,</span>  <span class="st">'rgb(44, 160, 101)'</span><span class="op">,</span> <span class="st">'rgb(255, 65, 54)'</span>]<span class="op">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                       <span class="dt">size</span><span class="op">:</span> [<span class="dv">40</span><span class="op">,</span> <span class="dv">60</span><span class="op">,</span> <span class="dv">80</span><span class="op">,</span> <span class="dv">100</span>]</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                       }</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>              }<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> data <span class="op">=</span> [trace1]<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> layout <span class="op">=</span> {</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>              <span class="dt">title</span><span class="op">:</span> {</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">text</span><span class="op">:</span> <span class="st">'Bubble Chart Hover Text'</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>                      }<span class="op">,</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>              <span class="dt">showlegend</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>              <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>              <span class="dt">width</span><span class="op">:</span> <span class="dv">600</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>              }<span class="op">;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>Plotly<span class="op">.</span><span class="fu">newPlot</span>(<span class="st">'myDiv'</span><span class="op">,</span> data<span class="op">,</span> layout)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here is how we represent that in Clojure:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb11"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(plotly/plot</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> {<span class="at">:data</span> [{<span class="at">:x</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">:y</span> [<span class="dv">10</span> <span class="dv">11</span> <span class="dv">12</span> <span class="dv">13</span>]</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">:text</span> [<span class="st">"A&lt;br&gt;size: 40"</span> <span class="st">"B&lt;br&gt;size: 60"</span> <span class="st">"C&lt;br&gt;size: 80"</span> <span class="st">"D&lt;br&gt;size: 100"</span>]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">:mode</span> <span class="at">:markers</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">:marker</span> {<span class="at">:color</span> [<span class="st">"rgb(93, 164, 214)"</span>, <span class="st">"rgb(255, 144, 14)"</span>,  <span class="st">"rgb(44, 160, 101)"</span>, <span class="st">"rgb(255, 65, 54)"</span>]</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:size</span> [<span class="dv">40</span> <span class="dv">60</span> <span class="dv">80</span> <span class="dv">100</span>]}}]</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">:layout</span> {<span class="at">:title</span> {<span class="at">:text</span> <span class="st">"Bubble Chart Hover Text"</span>}</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">:showlegend</span> <span class="va">false</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">:height</span> <span class="dv">600</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">:width</span> <span class="dv">600</span>}})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"x":[1,2,3,4],"y":[10,11,12,13],"text":["A<br>size: 40","B<br>size: 60","C<br>size: 80","D<br>size: 100"],"mode":"markers","marker":{"color":["rgb(93, 164, 214)","rgb(255, 144, 14)","rgb(44, 160, 101)","rgb(255, 65, 54)"],"size":[40,60,80,100]}}], {"title":{"text":"Bubble Chart Hover Text"},"showlegend":false,"height":600,"width":600}, {});</script></div>
<p>Sometimes, this raw way is all we need; but in common situations, Tableplot makes things easier.</p>
</section>
<section id="concepts" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="concepts"><span class="header-section-number">4.5</span> Concepts</h2>
<section id="plotly.js-traces" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="plotly.js-traces"><span class="header-section-number">4.5.1</span> Plotly.js traces</h3>
<p>Traces are a core concept in Plotly.js. They specify separate parts of the plots which can be drawn on the same canvas but may vary in their visual nature.</p>
<p>For example, here is a raw Plotly.js spec with two traces.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb12"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(plotly/plot</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a> {<span class="at">:data</span> [{<span class="at">:x</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">:y</span> [<span class="dv">10</span> <span class="dv">15</span> <span class="dv">12</span> <span class="dv">13</span>]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">:color</span> <span class="st">"blue"</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">:mode</span> <span class="at">:markers</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">:marker</span> {<span class="at">:size</span> [<span class="dv">40</span> <span class="dv">60</span> <span class="dv">80</span> <span class="dv">100</span>]</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:color</span> [<span class="st">"blue"</span> <span class="st">"brown"</span> <span class="st">"red"</span> <span class="st">"green"</span>]}}</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>         {<span class="at">:x</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">:y</span> [<span class="dv">15</span> <span class="dv">21</span> <span class="dv">17</span> <span class="dv">18</span>]</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">:mode</span> <span class="at">:markers</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">:color</span> <span class="st">"grey"</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">:marker</span> {<span class="at">:size</span> <span class="dv">50</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:color</span> <span class="st">"grey"</span>}}]})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"x":[1,2,3,4],"y":[10,15,12,13],"color":"blue","mode":"markers","marker":{"size":[40,60,80,100],"color":["blue","brown","red","green"]}},{"x":[1,2,3,4],"y":[15,21,17,18],"mode":"markers","color":"grey","marker":{"size":50,"color":"grey"}}], {}, {});</script></div>
<p>In Tableplot, we often do not need to think about traces, as they are drawn for us. But it is helpful to know about them if we wish to understand the specs generated by Tableplot.</p>
</section>
<section id="layers" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="layers"><span class="header-section-number">4.5.2</span> Layers</h3>
<p>Layers are a higher-level concept. We introduce them in Tableplot following <a href="https://ggplot2.tidyverse.org/">ggplot2</a>â€™s <a href="https://vita.had.co.nz/papers/layered-grammar.html">layered grammar of graphics</a>. Plotly bindings in other languages have similar concepts.</p>
<p>Like traces, layers are also parts of the plot that can be drawn on the same canvas, but they are a slightly higher-level concept, that makes it easier to bind our data to parts of the plot.</p>
<p>Layers are themselves templates, so they can have their own substitutions.</p>
<p>For example:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb13"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    (tc/random <span class="dv">10</span> {<span class="at">:seed</span> <span class="dv">1</span>})</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">20</span>})</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-text {:=text <span class="at">:species</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.0,4.6,4.5],"r":null,"name":"setosa","marker":{"color":"#1B9E77","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.4,3.4,2.3],"text":null},{"y":[5.7,6.1,5.6,5.0,6.3],"r":null,"name":"versicolor","marker":{"color":"#D95F02","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[2.9,3.0,2.7,2.0,2.5],"text":null},{"y":[6.2,6.7],"r":null,"name":"virginica","marker":{"color":"#7570B3","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[2.8,3.3],"text":null},{"r":null,"name":"","fill":null,"mode":"text","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"text":["setosa","versicolor","virginica","versicolor","setosa","versicolor","virginica","versicolor","versicolor","setosa"]}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"x"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"y"},"title":null}, {});</script></div>
<p>This plot has <strong>two layers</strong>: one for points, and one for text (which is visible on hover).</p>
<p>Let us see that using <a href="#debug"><code>debug</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb14"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    (tc/random <span class="dv">10</span> {<span class="at">:seed</span> <span class="dv">1</span>})</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">20</span>})</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-text {:=text <span class="at">:species</span>})</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    (plotly/debug :=layers)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    kind/pprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb15"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>[{<span class="at">:y</span> <span class="at">:sepal-length</span>,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">:trace-base</span> {<span class="at">:mode</span> <span class="at">:markers</span>, <span class="at">:type</span> <span class="st">"scatter"</span>},</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">:color-type</span> <span class="at">:nominal</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">:coordinates</span> <span class="at">:2d</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">:group</span> (<span class="at">:species</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">:color</span> <span class="at">:species</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mark</span> <span class="at">:point</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">:inferred-group</span> (<span class="at">:species</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">:marker-override</span> {<span class="at">:size</span> <span class="dv">20</span>},</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">:x</span> <span class="at">:sepal-width</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">:dataset</span> datasets/iris [<span class="dv">10</span> <span class="dv">6</span>]:</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>| <span class="at">:rownames</span> | <span class="at">:sepal-length</span> | <span class="at">:sepal-width</span> | <span class="at">:petal-length</span> | <span class="at">:petal-width</span> |   <span class="at">:species</span> |</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>|----------:|--------------:|-------------:|--------------:|-------------:|------------|</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">27</span> |           <span class="fl">5.0</span> |          <span class="fl">3.4</span> |           <span class="fl">1.6</span> |          <span class="fl">0.4</span> |     setosa |</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">97</span> |           <span class="fl">5.7</span> |          <span class="fl">2.9</span> |           <span class="fl">4.2</span> |          <span class="fl">1.3</span> | versicolor |</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">127</span> |           <span class="fl">6.2</span> |          <span class="fl">2.8</span> |           <span class="fl">4.8</span> |          <span class="fl">1.8</span> |  virginica |</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">92</span> |           <span class="fl">6.1</span> |          <span class="fl">3.0</span> |           <span class="fl">4.6</span> |          <span class="fl">1.4</span> | versicolor |</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">7</span> |           <span class="fl">4.6</span> |          <span class="fl">3.4</span> |           <span class="fl">1.4</span> |          <span class="fl">0.3</span> |     setosa |</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">95</span> |           <span class="fl">5.6</span> |          <span class="fl">2.7</span> |           <span class="fl">4.2</span> |          <span class="fl">1.3</span> | versicolor |</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">125</span> |           <span class="fl">6.7</span> |          <span class="fl">3.3</span> |           <span class="fl">5.7</span> |          <span class="fl">2.1</span> |  virginica |</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">61</span> |           <span class="fl">5.0</span> |          <span class="fl">2.0</span> |           <span class="fl">3.5</span> |          <span class="fl">1.0</span> | versicolor |</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">73</span> |           <span class="fl">6.3</span> |          <span class="fl">2.5</span> |           <span class="fl">4.9</span> |          <span class="fl">1.5</span> | versicolor |</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">42</span> |           <span class="fl">4.5</span> |          <span class="fl">2.3</span> |           <span class="fl">1.3</span> |          <span class="fl">0.3</span> |     setosa |</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a> {<span class="at">:y</span> <span class="at">:y</span>,</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">:trace-base</span> {<span class="at">:mode</span> <span class="at">:text</span>, <span class="at">:type</span> <span class="st">"scatter"</span>},</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">:coordinates</span> <span class="at">:2d</span>,</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mark</span> <span class="at">:text</span>,</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">:x</span> <span class="at">:x</span>,</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">:dataset</span> datasets/iris [<span class="dv">10</span> <span class="dv">6</span>]:</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>| <span class="at">:rownames</span> | <span class="at">:sepal-length</span> | <span class="at">:sepal-width</span> | <span class="at">:petal-length</span> | <span class="at">:petal-width</span> |   <span class="at">:species</span> |</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>|----------:|--------------:|-------------:|--------------:|-------------:|------------|</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">27</span> |           <span class="fl">5.0</span> |          <span class="fl">3.4</span> |           <span class="fl">1.6</span> |          <span class="fl">0.4</span> |     setosa |</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">97</span> |           <span class="fl">5.7</span> |          <span class="fl">2.9</span> |           <span class="fl">4.2</span> |          <span class="fl">1.3</span> | versicolor |</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">127</span> |           <span class="fl">6.2</span> |          <span class="fl">2.8</span> |           <span class="fl">4.8</span> |          <span class="fl">1.8</span> |  virginica |</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">92</span> |           <span class="fl">6.1</span> |          <span class="fl">3.0</span> |           <span class="fl">4.6</span> |          <span class="fl">1.4</span> | versicolor |</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>|         <span class="dv">7</span> |           <span class="fl">4.6</span> |          <span class="fl">3.4</span> |           <span class="fl">1.4</span> |          <span class="fl">0.3</span> |     setosa |</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">95</span> |           <span class="fl">5.6</span> |          <span class="fl">2.7</span> |           <span class="fl">4.2</span> |          <span class="fl">1.3</span> | versicolor |</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>|       <span class="dv">125</span> |           <span class="fl">6.7</span> |          <span class="fl">3.3</span> |           <span class="fl">5.7</span> |          <span class="fl">2.1</span> |  virginica |</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">61</span> |           <span class="fl">5.0</span> |          <span class="fl">2.0</span> |           <span class="fl">3.5</span> |          <span class="fl">1.0</span> | versicolor |</span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">73</span> |           <span class="fl">6.3</span> |          <span class="fl">2.5</span> |           <span class="fl">4.9</span> |          <span class="fl">1.5</span> | versicolor |</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>|        <span class="dv">42</span> |           <span class="fl">4.5</span> |          <span class="fl">2.3</span> |           <span class="fl">1.3</span> |          <span class="fl">0.3</span> |     setosa |</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">:text</span> <span class="at">:species</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You see, a layer is an intermediate data representation of Tableplot that takes care of the details necessary to generate traces.</p>
<p>In our example, the two layers are realized as <strong>four traces</strong>: since the point layer is colored by species, it is realized as three traces.</p>
<p>Let us see that using <a href="#debug"><code>debug</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb16"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    (tc/random <span class="dv">10</span> {<span class="at">:seed</span> <span class="dv">1</span>})</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">20</span>})</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-text {:=text <span class="at">:species</span>})</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    (plotly/debug :=traces)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    kind/pprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb17"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>[{<span class="at">:y</span> [<span class="fl">5.0</span> <span class="fl">4.6</span> <span class="fl">4.5</span>],</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">:name</span> <span class="st">"setosa"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#1B9E77"</span>, <span class="at">:size</span> <span class="dv">20</span>},</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">:x</span> [<span class="fl">3.4</span> <span class="fl">3.4</span> <span class="fl">2.3</span>],</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">:text</span> <span class="va">nil</span>}</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a> {<span class="at">:y</span> [<span class="fl">5.7</span> <span class="fl">6.1</span> <span class="fl">5.6</span> <span class="fl">5.0</span> <span class="fl">6.3</span>],</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">:name</span> <span class="st">"versicolor"</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#D95F02"</span>, <span class="at">:size</span> <span class="dv">20</span>},</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">:x</span> [<span class="fl">2.9</span> <span class="fl">3.0</span> <span class="fl">2.7</span> <span class="fl">2.0</span> <span class="fl">2.5</span>],</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">:text</span> <span class="va">nil</span>}</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a> {<span class="at">:y</span> [<span class="fl">6.2</span> <span class="fl">6.7</span>],</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">:name</span> <span class="st">"virginica"</span>,</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">:marker</span> {<span class="at">:color</span> <span class="st">"#7570B3"</span>, <span class="at">:size</span> <span class="dv">20</span>},</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">:x</span> [<span class="fl">2.8</span> <span class="fl">3.3</span>],</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">:text</span> <span class="va">nil</span>}</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a> {<span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">:name</span> <span class="st">""</span>,</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">:mode</span> <span class="at">:text</span>,</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">:text</span></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"setosa"</span></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>   <span class="st">"versicolor"</span></span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>   <span class="st">"virginica"</span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>   <span class="st">"versicolor"</span></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>   <span class="st">"setosa"</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>   <span class="st">"versicolor"</span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>   <span class="st">"virginica"</span></span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>   <span class="st">"versicolor"</span></span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>   <span class="st">"versicolor"</span></span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>   <span class="st">"setosa"</span>]}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mark" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="mark"><span class="header-section-number">4.5.3</span> Mark</h3>
<p>Mark is a Tableplot notion that is used to distinguish different types of layers, e.g.&nbsp;<code>point-layer</code> vs <code>line-layer</code>. It is similar to the ggplot notion of â€˜geomâ€™.</p>
<p>Its possible values are:</p>
<div class="printedClojure">
<div class="sourceCode" id="cb18"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>[<span class="at">:point</span> <span class="at">:text</span> <span class="at">:line</span> <span class="at">:box</span> <span class="at">:bar</span> <span class="at">:segment</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, <code>:box</code> means <a href="https://en.wikipedia.org/wiki/Box_plot">boxplot</a>.</p>
</section>
<section id="coordinates" class="level3" data-number="4.5.4">
<h3 data-number="4.5.4" class="anchored" data-anchor-id="coordinates"><span class="header-section-number">4.5.4</span> Coordinates</h3>
<p>Coordinates are a Tableplot notion that defines how marks are eventually mapped over to the cranvas, similar to ggplotâ€™s notion.</p>
<p>We currently support the following:</p>
<div class="printedClojure">
<div class="sourceCode" id="cb19"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>[<span class="at">:2d</span> <span class="at">:3d</span> <span class="at">:polar</span> <span class="at">:geo</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, 2d and 3d mean Eucledian coordinates of the corresponding dimensions, and <code>:geo</code> means latitude and longitude.</p>
</section>
<section id="plotly.js-mode-and-type" class="level3" data-number="4.5.5">
<h3 data-number="4.5.5" class="anchored" data-anchor-id="plotly.js-mode-and-type"><span class="header-section-number">4.5.5</span> Plotly.js mode and type</h3>
<p>Mode and type are Plotly.js notions that are used to distinguish diffetent types of traces.</p>
<p>Combinations of Tableplotâ€™s mark and coordinates are mapped onto combinations of Plotly.js mode and type, but currently we do not use all the meaningful combinations supported by Plotly.js.</p>
<p>Mode is derived from mark as follows:</p>
<div class="clay-dataset">
<p>_unnamed [6 2]:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>:mark</th>
<th>:mode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>:point</td>
<td>:markers</td>
</tr>
<tr class="even">
<td>:text</td>
<td>:text</td>
</tr>
<tr class="odd">
<td>:line</td>
<td>:lines</td>
</tr>
<tr class="even">
<td>:box</td>
<td></td>
</tr>
<tr class="odd">
<td>:bar</td>
<td></td>
</tr>
<tr class="even">
<td>:segment</td>
<td>:lines</td>
</tr>
</tbody>
</table>
</div>
<p>Type is defined as the concatenation of a mark-based string: (<code>"box"</code> or <code>"bar"</code> if that is the mark, and <code>"scatter"</code> otherwise) with a coordinates-based string (<code>"3d"</code>, <code>"polar"</code>, or <code>"geo"</code> if we have such coordinates, <code>nil</code> otherwise).</p>
<p>Thus, for example, if the mark is <code>:point</code> and the coordinates are <code>:polar</code>, then the type is <code>"scatterpolar"</code>.</p>
</section>
<section id="field-types" class="level3" data-number="4.5.6">
<h3 data-number="4.5.6" class="anchored" data-anchor-id="field-types"><span class="header-section-number">4.5.6</span> Field types</h3>
<p>Looking into the data in the columns, we may classify them into the following types:</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p>In certain situations, the types of data in relevant columns determines the way things should be plotted.</p>
<p>For example, when a column is used for coloring a plot, we should use gradient colors when it is quantitative but more distinct colors when it is nominal.</p>
<p>Colorin gby a nominal column:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb20"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:sepal-width</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:sepal-length</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>      :=color <span class="at">:species</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">20</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Coloring by a Quantitative column:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb21"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:mpg</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:disp</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>      :=color <span class="at">:cyl</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">20</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[160.0,160.0,108.0,258.0,360.0,225.0,360.0,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472.0,460.0,440.0,78.7,75.7,71.1,120.1,318.0,304.0,350.0,400.0,79.0,120.3,95.1,351.0,145.0,301.0,121.0],"r":null,"name":"","marker":{"color":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[21.0,21.0,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26.0,30.4,15.8,19.7,15.0,21.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"mpg"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"disp"},"title":null}, {});</script></div>
<p>Overriding a quantitative column to be considered nominal by the <a href="#color-type"><code>:=color-type</code></a> key:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb22"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:mpg</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:disp</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>      :=color <span class="at">:cyl</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>      :=color-type <span class="at">:nominal</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">20</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[160.0,160.0,258.0,225.0,167.6,167.6,145.0],"r":null,"name":"6","marker":{"color":"#1B9E77","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[21.0,21.0,21.4,18.1,19.2,17.8,19.7],"text":null},{"y":[108.0,146.7,140.8,78.7,75.7,71.1,120.1,79.0,120.3,95.1,121.0],"r":null,"name":"4","marker":{"color":"#D95F02","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[22.8,24.4,22.8,32.4,30.4,33.9,21.5,27.3,26.0,30.4,21.4],"text":null},{"y":[360.0,360.0,275.8,275.8,275.8,472.0,460.0,440.0,318.0,304.0,350.0,400.0,351.0,301.0],"r":null,"name":"8","marker":{"color":"#7570B3","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[18.7,14.3,16.4,17.3,15.2,10.4,10.4,14.7,15.5,15.2,13.3,19.2,15.8,15.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"mpg"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"disp"},"title":null}, {});</script></div>
</section>
<section id="stat" class="level3" data-number="4.5.7">
<h3 data-number="4.5.7" class="anchored" data-anchor-id="stat"><span class="header-section-number">4.5.7</span> Stat</h3>
<p>A stat is a statistical transformation that takes the substitution context and returns a new dataset. Stats such as <a href="#smooth-stat"><code>smooth-stat</code></a>, <a href="#histogram-stat"><code>histogram-stat</code></a>, and <a href="#density-stat"><code>density-stat</code></a> are used in a few of the layer functions, such as <a href="#layer-smooth"><code>layer-smooth</code></a>, <a href="#layer-histogram"><code>layer-histogram</code></a>, and <a href="#layer-density"><code>layer-density</code></a>.</p>
<p>The user will typically not need to think about them, but they are a useful concept in extending Tableplot.</p>
</section>
</section>
<section id="api-functions" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="api-functions"><span class="header-section-number">4.6</span> API functions</h2>
<section id="base" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="base"><span class="header-section-number">4.6.1</span> <code>base</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p><code>[dataset template submap]</code></p>
<p>The <a href="#base"><code>base</code></a> function can be used to create the basis template to which we can add layers. It can be used to set up some substitution keys to be shared by the various layers.</p>
<p>The return value is always a template which is set up to be visualized as Plotly.js.</p>
<p>In the full case of three arguments <code>(dataset template submap)</code>, <code>dataset</code> is added to <code>template</code> as the value substituted for the <a href="#dataset"><code>:=dataset</code></a> key, and the substitution map <code>submap</code> is added as well.</p>
<p>In the other cases, if the <code>template</code> is not passed missing, it is replaced by a minimal base template to be carried along the pipeline. If the <code>dataset</code> or <code>submap</code> parts are not passed, they are simply not substituted into the template.</p>
<p>If the first argument is a dataset, it is converted to a very basic template where it is substituted at the <a href="#dataset"><code>:=dataset</code></a> key.</p>
<p>We typically use <a href="#base"><code>base</code></a> with other layers added to it. The base substitutions are shared between layers, and the layers can override them and add substitutions of their own.</p>
<section id="for-example" class="level4" data-number="4.6.1.1">
<h4 data-number="4.6.1.1" class="anchored" data-anchor-id="for-example"><span class="header-section-number">4.6.1.1</span> For example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb23"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=x <span class="at">:sepal-width</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>                  :=mark-size <span class="dv">10</span>})</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=mark-color <span class="st">"grey"</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                         :=mark-size <span class="dv">20</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                         :=mark-opacity <span class="fl">0.3</span>})</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=color <span class="at">:species</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"","marker":{"color":"grey","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"opacity":0.3,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3","size":10},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="layer"><span class="header-section-number">4.6.2</span> <code>layer</code></h3>
<p><code>[dataset-or-template layer-template submap]</code></p>
<p>The <a href="#layer"><code>layer</code></a> function is typically not used on the user side. It is a generic way to create more specific functions to add layers such as <a href="#layer-point"><code>layer-point</code></a>.</p>
<p>If <code>dataset-or-template</code> is a dataset, it is converted to a basic template where it is substituted at the <a href="#dataset"><code>:=dataset</code></a> key.</p>
<p>Otherwise, it is already template and can be processed further. The <code>layer-template</code> template is added as an additional layer to our template. The <code>submap</code> substitution map is added as additional substitutions to that layer.</p>
<p>The var <code>layer-base</code> is typicall used as the <code>layer-template</code>.</p>
<section id="for-example-1" class="level4" data-number="4.6.2.1">
<h4 data-number="4.6.2.1" class="anchored" data-anchor-id="for-example-1"><span class="header-section-number">4.6.2.1</span> For example:</h4>
<p>We could write someting like:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb24"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer plotly/layer-base</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                  {:=mark <span class="at">:point</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                   :=x <span class="at">:sepal-width</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                   :=y <span class="at">:sepal-length</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"","fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Of course, this can also be expressed more succinctly using <a href="#layer-point"><code>layer-point</code></a>.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb25"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"","fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-point" class="level3" data-number="4.6.3">
<h3 data-number="4.6.3" class="anchored" data-anchor-id="layer-point"><span class="header-section-number">4.6.3</span> <code>layer-point</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a point layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example" class="level4" data-number="4.6.3.1">
<h4 data-number="4.6.3.1" class="anchored" data-anchor-id="example"><span class="header-section-number">4.6.3.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb26"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:mpg</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:disp</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>      :=color <span class="at">:cyl</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>      :=color-type <span class="at">:nominal</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">20</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[160.0,160.0,258.0,225.0,167.6,167.6,145.0],"r":null,"name":"6","marker":{"color":"#1B9E77","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[21.0,21.0,21.4,18.1,19.2,17.8,19.7],"text":null},{"y":[108.0,146.7,140.8,78.7,75.7,71.1,120.1,79.0,120.3,95.1,121.0],"r":null,"name":"4","marker":{"color":"#D95F02","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[22.8,24.4,22.8,32.4,30.4,33.9,21.5,27.3,26.0,30.4,21.4],"text":null},{"y":[360.0,360.0,275.8,275.8,275.8,472.0,460.0,440.0,318.0,304.0,350.0,400.0,351.0,301.0],"r":null,"name":"8","marker":{"color":"#7570B3","size":20},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[18.7,14.3,16.4,17.3,15.2,10.4,10.4,14.7,15.5,15.2,13.3,19.2,15.8,15.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"mpg"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"disp"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-line" class="level3" data-number="4.6.4">
<h3 data-number="4.6.4" class="anchored" data-anchor-id="layer-line"><span class="header-section-number">4.6.4</span> <code>layer-line</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a line layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example-1" class="level4" data-number="4.6.4.1">
<h4 data-number="4.6.4.1" class="anchored" data-anchor-id="example-1"><span class="header-section-number">4.6.4.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb27"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/economics-long</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    (tc/select-rows #(<span class="kw">-&gt;</span> <span class="va">%</span> <span class="at">:variable</span> (<span class="kw">=</span> <span class="st">"unemploy"</span>)))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-line</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:date</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:value</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>      :=mark-color <span class="st">"purple"</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[2944.0,2945.0,2958.0,3143.0,3066.0,3018.0,2878.0,3001.0,2877.0,2709.0,2740.0,2938.0,2883.0,2768.0,2686.0,2689.0,2715.0,2685.0,2718.0,2692.0,2712.0,2758.0,2713.0,2816.0,2868.0,2856.0,3040.0,3049.0,2856.0,2884.0,3201.0,3453.0,3635.0,3797.0,3919.0,4071.0,4175.0,4256.0,4456.0,4591.0,4898.0,5076.0,4986.0,4903.0,4987.0,4959.0,4996.0,4949.0,5035.0,5134.0,5042.0,4954.0,5161.0,5154.0,5019.0,4928.0,5038.0,4959.0,4922.0,4923.0,4913.0,4939.0,4849.0,4875.0,4602.0,4543.0,4326.0,4452.0,4394.0,4459.0,4329.0,4363.0,4305.0,4305.0,4350.0,4144.0,4396.0,4489.0,4644.0,4731.0,4634.0,4618.0,4705.0,4927.0,5063.0,5022.0,5437.0,5523.0,6140.0,6636.0,7501.0,7520.0,7978.0,8210.0,8433.0,8220.0,8127.0,7928.0,7923.0,7897.0,7794.0,7744.0,7534.0,7326.0,7230.0,7330.0,7053.0,7322.0,7490.0,7518.0,7380.0,7430.0,7620.0,7545.0,7280.0,7443.0,7307.0,7059.0,6911.0,7134.0,6829.0,6925.0,6751.0,6763.0,6815.0,6386.0,6489.0,6318.0,6337.0,6180.0,6127.0,6028.0,6309.0,6080.0,6125.0,5947.0,6077.0,6228.0,6109.0,6173.0,6109.0,6069.0,5840.0,5959.0,5996.0,6320.0,6190.0,6296.0,6238.0,6325.0,6683.0,6702.0,6729.0,7358.0,7984.0,8098.0,8363.0,8281.0,8021.0,8088.0,8023.0,7718.0,8071.0,8051.0,7982.0,7869.0,8174.0,8098.0,7863.0,8036.0,8230.0,8646.0,9029.0,9267.0,9397.0,9705.0,9895.0,10244.0,10335.0,10538.0,10849.0,10881.0,11217.0,11529.0,11938.0,12051.0,11534.0,11545.0,11408.0,11268.0,11154.0,11246.0,10548.0,10623.0,10282.0,9887.0,9499.0,9331.0,9008.0,8791.0,8746.0,8762.0,8456.0,8226.0,8537.0,8519.0,8367.0,8381.0,8198.0,8358.0,8423.0,8321.0,8339.0,8395.0,8302.0,8460.0,8513.0,8196.0,8248.0,8298.0,8128.0,8138.0,7795.0,8402.0,8383.0,8364.0,8439.0,8508.0,8319.0,8135.0,8310.0,8243.0,8159.0,7883.0,7892.0,7865.0,7862.0,7542.0,7574.0,7398.0,7268.0,7261.0,7102.0,7227.0,7035.0,6936.0,6953.0,6929.0,6876.0,6601.0,6779.0,6546.0,6605.0,6843.0,6604.0,6568.0,6537.0,6518.0,6682.0,6359.0,6205.0,6468.0,6375.0,6577.0,6495.0,6511.0,6590.0,6630.0,6725.0,6667.0,6752.0,6651.0,6598.0,6797.0,6742.0,6590.0,6922.0,7188.0,7368.0,7459.0,7764.0,7901.0,8015.0,8265.0,8586.0,8439.0,8736.0,8692.0,8586.0,8666.0,8722.0,8842.0,8931.0,9198.0,9283.0,9454.0,9460.0,9415.0,9744.0,10040.0,9850.0,9787.0,9781.0,9398.0,9565.0,9557.0,9325.0,9183.0,9056.0,9110.0,9149.0,9121.0,8930.0,8763.0,8714.0,8750.0,8542.0,8477.0,8630.0,8583.0,8470.0,8331.0,7915.0,7927.0,7946.0,7933.0,7734.0,7632.0,7375.0,7230.0,7375.0,7187.0,7153.0,7645.0,7430.0,7427.0,7527.0,7484.0,7478.0,7328.0,7426.0,7423.0,7491.0,7313.0,7318.0,7415.0,7423.0,7095.0,7337.0,6882.0,6979.0,7031.0,7236.0,7253.0,7158.0,7102.0,7000.0,6873.0,6655.0,6799.0,6655.0,6608.0,6656.0,6454.0,6308.0,6476.0,6368.0,6306.0,6422.0,5941.0,6047.0,6212.0,6259.0,6179.0,6300.0,6280.0,6100.0,6032.0,5976.0,6111.0,5783.0,6004.0,5796.0,5951.0,6025.0,5838.0,5915.0,5778.0,5716.0,5653.0,5708.0,5858.0,5733.0,5481.0,5758.0,5651.0,5747.0,5853.0,5625.0,5534.0,5639.0,5634.0,6023.0,6089.0,6141.0,6271.0,6226.0,6484.0,6583.0,7042.0,7142.0,7694.0,8003.0,8258.0,8182.0,8215.0,8304.0,8599.0,8399.0,8393.0,8390.0,8304.0,8251.0,8307.0,8520.0,8640.0,8520.0,8618.0,8588.0,8842.0,8957.0,9266.0,9011.0,8896.0,8921.0,8732.0,8576.0,8317.0,8370.0,8167.0,8491.0,8170.0,8212.0,8286.0,8136.0,7990.0,7927.0,8061.0,7932.0,7934.0,7784.0,7980.0,7737.0,7672.0,7651.0,7524.0,7406.0,7345.0,7553.0,7453.0,7566.0,7279.0,7064.0,7184.0,7072.0,7120.0,6980.0,7001.0,7175.0,7091.0,6847.0,6727.0,6872.0,6762.0,7116.0,6927.0,6731.0,6850.0,6766.0,6979.0,7149.0,7067.0,7170.0,7237.0,7240.0,7645.0,7685.0,7497.0,7822.0,7637.0,8395.0,8575.0,8937.0,9438.0,9494.0,10074.0,10538.0,11286.0,12058.0,12898.0,13426.0,13853.0,14499.0,14707.0,14601.0,14814.0,15009.0,15352.0,15219.0,15098.0,15046.0,15113.0,15202.0,15325.0,14849.0,14474.0,14512.0,14648.0,14579.0,14516.0,15081.0,14348.0,14013.0,13820.0,13737.0,13957.0,13855.0,13962.0,13763.0,13818.0,13948.0,13594.0,13302.0,13093.0,12797.0,12813.0,12713.0,12646.0,12660.0,12692.0,12656.0,12471.0,12115.0,12124.0,12005.0,12298.0,12471.0,11950.0,11689.0,11760.0,11654.0,11751.0,11335.0,11279.0,11270.0,11136.0,10787.0,10404.0,10202.0,10349.0,10380.0,9702.0,9859.0,9460.0,9608.0,9599.0,9262.0,8990.0,9090.0,8717.0,8903.0,8610.0,8504.0,8526.0],"r":null,"name":"","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"purple"},"lon":null,"lat":null,"x":["1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01","1976-01-01","1976-02-01","1976-03-01","1976-04-01","1976-05-01","1976-06-01","1976-07-01","1976-08-01","1976-09-01","1976-10-01","1976-11-01","1976-12-01","1977-01-01","1977-02-01","1977-03-01","1977-04-01","1977-05-01","1977-06-01","1977-07-01","1977-08-01","1977-09-01","1977-10-01","1977-11-01","1977-12-01","1978-01-01","1978-02-01","1978-03-01","1978-04-01","1978-05-01","1978-06-01","1978-07-01","1978-08-01","1978-09-01","1978-10-01","1978-11-01","1978-12-01","1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01"],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"date"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"value"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-bar" class="level3" data-number="4.6.5">
<h3 data-number="4.6.5" class="anchored" data-anchor-id="layer-bar"><span class="header-section-number">4.6.5</span> <code>layer-bar</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a bar layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example-2" class="level4" data-number="4.6.5.1">
<h4 data-number="4.6.5.1" class="anchored" data-anchor-id="example-2"><span class="header-section-number">4.6.5.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb28"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    (tc/group-by [<span class="at">:cyl</span>])</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    (tc/aggregate {<span class="at">:total-disp</span> #(<span class="kw">-&gt;</span> <span class="va">%</span> <span class="at">:disp</span> tcc/sum)})</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    (tc/add-column <span class="at">:bar-width</span> <span class="fl">0.5</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-bar</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:cyl</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>      :=bar-width <span class="at">:bar-width</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:total-disp</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[1283.2,1156.5,4943.4],"r":null,"name":"","fill":null,"mode":null,"width":[0.5,0.5,0.5],"type":"bar","theta":null,"z":null,"lon":null,"lat":null,"x":[6,4,8],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"cyl"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"total-disp"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-boxplot" class="level3" data-number="4.6.6">
<h3 data-number="4.6.6" class="anchored" data-anchor-id="layer-boxplot"><span class="header-section-number">4.6.6</span> <code>layer-boxplot</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a <a href="https://en.wikipedia.org/wiki/Box_plot">boxplot</a> layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example-3" class="level4" data-number="4.6.6.1">
<h4 data-number="4.6.6.1" class="anchored" data-anchor-id="example-3"><span class="header-section-number">4.6.6.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb29"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-boxplot</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:cyl</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:disp</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[160.0,160.0,108.0,258.0,360.0,225.0,360.0,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472.0,460.0,440.0,78.7,75.7,71.1,120.1,318.0,304.0,350.0,400.0,79.0,120.3,95.1,351.0,145.0,301.0,121.0],"r":null,"name":"","fill":null,"mode":null,"width":null,"type":"box","theta":null,"z":null,"lon":null,"lat":null,"x":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"cyl"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"disp"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-segment" class="level3" data-number="4.6.7">
<h3 data-number="4.6.7" class="anchored" data-anchor-id="layer-segment"><span class="header-section-number">4.6.7</span> <code>layer-segment</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a segment layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example-4" class="level4" data-number="4.6.7.1">
<h4 data-number="4.6.7.1" class="anchored" data-anchor-id="example-4"><span class="header-section-number">4.6.7.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb30"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-segment</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>     {:=x0 <span class="at">:sepal-width</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>      :=y0 <span class="at">:sepal-length</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>      :=x1 <span class="at">:petal-width</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>      :=y1 <span class="at">:petal-length</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>      :=mark-opacity <span class="fl">0.4</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">3</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>      :=color <span class="at">:species</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,1.4,null,4.9,1.4,null,4.7,1.3,null,4.6,1.5,null,5.0,1.4,null,5.4,1.7,null,4.6,1.4,null,5.0,1.5,null,4.4,1.4,null,4.9,1.5,null,5.4,1.5,null,4.8,1.6,null,4.8,1.4,null,4.3,1.1,null,5.8,1.2,null,5.7,1.5,null,5.4,1.3,null,5.1,1.4,null,5.7,1.7,null,5.1,1.5,null,5.4,1.7,null,5.1,1.5,null,4.6,1.0,null,5.1,1.7,null,4.8,1.9,null,5.0,1.6,null,5.0,1.6,null,5.2,1.5,null,5.2,1.4,null,4.7,1.6,null,4.8,1.6,null,5.4,1.5,null,5.2,1.5,null,5.5,1.4,null,4.9,1.5,null,5.0,1.2,null,5.5,1.3,null,4.9,1.4,null,4.4,1.3,null,5.1,1.5,null,5.0,1.3,null,4.5,1.3,null,4.4,1.3,null,5.0,1.6,null,5.1,1.9,null,4.8,1.4,null,5.1,1.6,null,4.6,1.4,null,5.3,1.5,null,5.0,1.4,null],"r":null,"name":"setosa","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#1B9E77","width":3},"opacity":0.4,"lon":null,"lat":null,"x":[3.5,0.2,null,3.0,0.2,null,3.2,0.2,null,3.1,0.2,null,3.6,0.2,null,3.9,0.4,null,3.4,0.3,null,3.4,0.2,null,2.9,0.2,null,3.1,0.1,null,3.7,0.2,null,3.4,0.2,null,3.0,0.1,null,3.0,0.1,null,4.0,0.2,null,4.4,0.4,null,3.9,0.4,null,3.5,0.3,null,3.8,0.3,null,3.8,0.3,null,3.4,0.2,null,3.7,0.4,null,3.6,0.2,null,3.3,0.5,null,3.4,0.2,null,3.0,0.2,null,3.4,0.4,null,3.5,0.2,null,3.4,0.2,null,3.2,0.2,null,3.1,0.2,null,3.4,0.4,null,4.1,0.1,null,4.2,0.2,null,3.1,0.2,null,3.2,0.2,null,3.5,0.2,null,3.6,0.1,null,3.0,0.2,null,3.4,0.2,null,3.5,0.3,null,2.3,0.3,null,3.2,0.2,null,3.5,0.6,null,3.8,0.4,null,3.0,0.3,null,3.8,0.2,null,3.2,0.2,null,3.7,0.2,null,3.3,0.2,null],"text":null},{"y":[7.0,4.7,null,6.4,4.5,null,6.9,4.9,null,5.5,4.0,null,6.5,4.6,null,5.7,4.5,null,6.3,4.7,null,4.9,3.3,null,6.6,4.6,null,5.2,3.9,null,5.0,3.5,null,5.9,4.2,null,6.0,4.0,null,6.1,4.7,null,5.6,3.6,null,6.7,4.4,null,5.6,4.5,null,5.8,4.1,null,6.2,4.5,null,5.6,3.9,null,5.9,4.8,null,6.1,4.0,null,6.3,4.9,null,6.1,4.7,null,6.4,4.3,null,6.6,4.4,null,6.8,4.8,null,6.7,5.0,null,6.0,4.5,null,5.7,3.5,null,5.5,3.8,null,5.5,3.7,null,5.8,3.9,null,6.0,5.1,null,5.4,4.5,null,6.0,4.5,null,6.7,4.7,null,6.3,4.4,null,5.6,4.1,null,5.5,4.0,null,5.5,4.4,null,6.1,4.6,null,5.8,4.0,null,5.0,3.3,null,5.6,4.2,null,5.7,4.2,null,5.7,4.2,null,6.2,4.3,null,5.1,3.0,null,5.7,4.1,null],"r":null,"name":"versicolor","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#D95F02","width":3},"opacity":0.4,"lon":null,"lat":null,"x":[3.2,1.4,null,3.2,1.5,null,3.1,1.5,null,2.3,1.3,null,2.8,1.5,null,2.8,1.3,null,3.3,1.6,null,2.4,1.0,null,2.9,1.3,null,2.7,1.4,null,2.0,1.0,null,3.0,1.5,null,2.2,1.0,null,2.9,1.4,null,2.9,1.3,null,3.1,1.4,null,3.0,1.5,null,2.7,1.0,null,2.2,1.5,null,2.5,1.1,null,3.2,1.8,null,2.8,1.3,null,2.5,1.5,null,2.8,1.2,null,2.9,1.3,null,3.0,1.4,null,2.8,1.4,null,3.0,1.7,null,2.9,1.5,null,2.6,1.0,null,2.4,1.1,null,2.4,1.0,null,2.7,1.2,null,2.7,1.6,null,3.0,1.5,null,3.4,1.6,null,3.1,1.5,null,2.3,1.3,null,3.0,1.3,null,2.5,1.3,null,2.6,1.2,null,3.0,1.4,null,2.6,1.2,null,2.3,1.0,null,2.7,1.3,null,3.0,1.2,null,2.9,1.3,null,2.9,1.3,null,2.5,1.1,null,2.8,1.3,null],"text":null},{"y":[6.3,6.0,null,5.8,5.1,null,7.1,5.9,null,6.3,5.6,null,6.5,5.8,null,7.6,6.6,null,4.9,4.5,null,7.3,6.3,null,6.7,5.8,null,7.2,6.1,null,6.5,5.1,null,6.4,5.3,null,6.8,5.5,null,5.7,5.0,null,5.8,5.1,null,6.4,5.3,null,6.5,5.5,null,7.7,6.7,null,7.7,6.9,null,6.0,5.0,null,6.9,5.7,null,5.6,4.9,null,7.7,6.7,null,6.3,4.9,null,6.7,5.7,null,7.2,6.0,null,6.2,4.8,null,6.1,4.9,null,6.4,5.6,null,7.2,5.8,null,7.4,6.1,null,7.9,6.4,null,6.4,5.6,null,6.3,5.1,null,6.1,5.6,null,7.7,6.1,null,6.3,5.6,null,6.4,5.5,null,6.0,4.8,null,6.9,5.4,null,6.7,5.6,null,6.9,5.1,null,5.8,5.1,null,6.8,5.9,null,6.7,5.7,null,6.7,5.2,null,6.3,5.0,null,6.5,5.2,null,6.2,5.4,null,5.9,5.1,null],"r":null,"name":"virginica","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#7570B3","width":3},"opacity":0.4,"lon":null,"lat":null,"x":[3.3,2.5,null,2.7,1.9,null,3.0,2.1,null,2.9,1.8,null,3.0,2.2,null,3.0,2.1,null,2.5,1.7,null,2.9,1.8,null,2.5,1.8,null,3.6,2.5,null,3.2,2.0,null,2.7,1.9,null,3.0,2.1,null,2.5,2.0,null,2.8,2.4,null,3.2,2.3,null,3.0,1.8,null,3.8,2.2,null,2.6,2.3,null,2.2,1.5,null,3.2,2.3,null,2.8,2.0,null,2.8,2.0,null,2.7,1.8,null,3.3,2.1,null,3.2,1.8,null,2.8,1.8,null,3.0,1.8,null,2.8,2.1,null,3.0,1.6,null,2.8,1.9,null,3.8,2.0,null,2.8,2.2,null,2.8,1.5,null,2.6,1.4,null,3.0,2.3,null,3.4,2.4,null,3.1,1.8,null,3.0,1.8,null,3.1,2.1,null,3.1,2.4,null,3.1,2.3,null,2.7,1.9,null,3.2,2.3,null,3.3,2.5,null,3.0,2.3,null,2.5,1.9,null,3.0,2.0,null,3.4,2.3,null,3.0,1.8,null],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"x"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"y"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-text" class="level3" data-number="4.6.8">
<h3 data-number="4.6.8" class="anchored" data-anchor-id="layer-text"><span class="header-section-number">4.6.8</span> <code>layer-text</code></h3>
<p><code>[dataset-or-template]</code></p>
<p><code>[dataset-or-template submap]</code></p>
<p>Add a text layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<section id="example-5" class="level4" data-number="4.6.8.1">
<h4 data-number="4.6.8.1" class="anchored" data-anchor-id="example-5"><span class="header-section-number">4.6.8.1</span> Example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb31"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/mtcars</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-text</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>     {:=x <span class="at">:mpg</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>      :=y <span class="at">:disp</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>      :=text <span class="at">:cyl</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>      :=textfont {<span class="at">:family</span> <span class="st">"Courier New, monospace"</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">:size</span> <span class="dv">16</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">:color</span> <span class="at">:purple</span>}</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>      :=mark-size <span class="dv">20</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[160.0,160.0,108.0,258.0,360.0,225.0,360.0,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472.0,460.0,440.0,78.7,75.7,71.1,120.1,318.0,304.0,350.0,400.0,79.0,120.3,95.1,351.0,145.0,301.0,121.0],"r":null,"name":"","marker":{"size":20},"fill":null,"mode":"text","width":null,"type":"scatter","theta":null,"textfont":{"family":"Courier New, monospace","size":16,"color":"purple"},"z":null,"lon":null,"lat":null,"x":[21.0,21.0,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26.0,30.4,15.8,19.7,15.0,21.4],"text":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4]}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"mpg"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"disp"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-histogram" class="level3" data-number="4.6.9">
<h3 data-number="4.6.9" class="anchored" data-anchor-id="layer-histogram"><span class="header-section-number">4.6.9</span> <code>layer-histogram</code></h3>
<p><code>[context]</code></p>
<p><code>[context submap]</code></p>
<p>Add a <a href="https://en.wikipedia.org/wiki/Histogram">histogram</a> layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<p><a href="#histogram-stat"><code>histogram-stat</code></a> is used internally as <a href="#stat"><code>:=stat</code></a>.</p>
<p>The histogramâ€™s binning and counting are computed using <a href="https://github.com/generateme/fastmath">Fastmath</a>.</p>
<p>The <a href="#histogram-nbins"><code>:=histogram-nbins</code></a> key controls the number of bins.</p>
<p>If a list of grouping columns <a href="#group"><code>:=group</code></a> is specified, e.g., when the plot is colored by a nominal type, then the data is grouped by this column, and overlapping histograms are generated.</p>
<section id="examples" class="level4" data-number="4.6.9.1">
<h4 data-number="4.6.9.1" class="anchored" data-anchor-id="examples"><span class="header-section-number">4.6.9.1</span> Examples:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb32"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-histogram {:=x <span class="at">:sepal-width</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[4,7,22,24,37,31,10,11,2,2],"r":null,"name":"","fill":null,"mode":null,"width":[0.2400000000000002,0.23999999999999977,0.2400000000000002,0.23999999999999977,0.2400000000000002,0.2400000000000002,0.23999999999999977,0.2400000000000002,0.23999999999999977,0.2400000000000002],"type":"bar","theta":null,"z":null,"lon":null,"lat":null,"x":[2.12,2.3600000000000003,2.6,2.84,3.08,3.3200000000000003,3.5600000000000005,3.8000000000000003,4.04,4.28],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"count"},"title":null}, {});</script></div>
<div class="sourceClojure">
<div class="sourceCode" id="cb33"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-histogram {:=x <span class="at">:sepal-width</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                             :=histogram-nbins <span class="dv">30</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[1,0,3,4,0,3,8,5,9,0,14,10,26,11,0,13,6,12,6,0,4,3,6,2,0,1,1,1,0,1],"r":null,"name":"","fill":null,"mode":null,"width":[0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.07999999999999963,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.07999999999999963,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.07999999999999963,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.07999999999999963,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007,0.08000000000000007],"type":"bar","theta":null,"z":null,"lon":null,"lat":null,"x":[2.04,2.12,2.2,2.2800000000000002,2.3600000000000003,2.44,2.52,2.6,2.68,2.76,2.84,2.92,3.0,3.08,3.16,3.24,3.3200000000000003,3.4000000000000004,3.4800000000000004,3.5600000000000005,3.64,3.72,3.8000000000000003,3.8800000000000003,3.96,4.04,4.12,4.2,4.28,4.36],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"count"},"title":null}, {});</script></div>
<div class="sourceClojure">
<div class="sourceCode" id="cb34"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-histogram {:=x <span class="at">:sepal-width</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                             :=color <span class="at">:species</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                             :=mark-opacity <span class="fl">0.5</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[1,0,1,10,7,15,6,6,2,2],"r":null,"name":"setosa","marker":{"color":"#1B9E77"},"fill":null,"mode":null,"width":[0.20999999999999996,0.20999999999999996,0.20999999999999996,0.2100000000000004,0.20999999999999996,0.20999999999999996,0.20999999999999996,0.2100000000000004,0.20999999999999996,0.20999999999999996],"type":"bar","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.405,2.6149999999999998,2.8249999999999997,3.035,3.245,3.455,3.665,3.875,4.085000000000001,4.295],"text":null},{"y":[1,2,6,4,3,11,7,11,3,2],"r":null,"name":"versicolor","marker":{"color":"#D95F02"},"fill":null,"mode":null,"width":[0.14000000000000012,0.13999999999999968,0.14000000000000012,0.14000000000000012,0.14000000000000012,0.13999999999999968,0.14000000000000012,0.14000000000000012,0.13999999999999968,0.14000000000000012],"type":"bar","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.0700000000000003,2.21,2.3499999999999996,2.49,2.63,2.77,2.91,3.05,3.19,3.33],"text":null},{"y":[1,4,2,12,2,16,8,2,1,2],"r":null,"name":"virginica","marker":{"color":"#7570B3"},"fill":null,"mode":null,"width":[0.16000000000000014,0.1599999999999997,0.16000000000000014,0.1599999999999997,0.16000000000000014,0.16000000000000014,0.1599999999999997,0.16000000000000014,0.1599999999999997,0.16000000000000014],"type":"bar","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.2800000000000002,2.4400000000000004,2.6,2.76,2.92,3.08,3.24,3.4,3.5599999999999996,3.7199999999999998],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"count"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-density" class="level3" data-number="4.6.10">
<h3 data-number="4.6.10" class="anchored" data-anchor-id="layer-density"><span class="header-section-number">4.6.10</span> <code>layer-density</code></h3>
<p><code>[context]</code></p>
<p><code>[context submap]</code></p>
<p>(experimental)</p>
<p>Add an estimated density layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<p><a href="#density-stat"><code>density-stat</code></a> is used internally as <a href="#stat"><code>:=stat</code></a>.</p>
<p>The density is estimated by Gaussian <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">kernel density estimation</a> using <a href="https://github.com/generateme/fastmath">Fastmath</a>.</p>
<p>The <a href="#density-bandwidth"><code>:=density-bandwidth</code></a> can controls the bandwidth. Otherwise, it is determined by a rule of thumb.</p>
<p>If a list of grouping columns <a href="#group"><code>:=group</code></a> is specified, e.g., when the plot is colored by a nominal type, then the data is grouped by this column, and overlapping densities are generated.</p>
<section id="examples-1" class="level4" data-number="4.6.10.1">
<h4 data-number="4.6.10.1" class="anchored" data-anchor-id="examples-1"><span class="header-section-number">4.6.10.1</span> Examples:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb35"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-density {:=x <span class="at">:sepal-width</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[3.656813784843768E-16,6.141305614516718E-16,1.0269517627145644E-15,1.7099005394702274E-15,2.834804568414352E-15,4.679579918575382E-15,7.691695504991614E-15,1.2588348800503554E-14,2.051383805008311E-14,3.328561206159559E-14,5.37771326011959E-14,8.651077578558296E-14,1.3857160310051265E-13,2.2100889129387185E-13,3.509754346864799E-13,5.549772304078456E-13,8.73785995739442E-13,1.3698293419599568E-12,2.13825412892895E-12,3.3236246789047103E-12,5.143637045077064E-12,7.926114734374266E-12,1.216135911800985E-11,1.8579568061993938E-11,2.8263170572489972E-11,4.280928147178772E-11,6.456346337625981E-11,9.695440671107374E-11,1.4497067960358635E-10,2.158364164517319E-10,3.1996408649730325E-10,4.722910967076546E-10,6.941452269544155E-10,1.0158346840522258E-9,1.4802255704483959E-9,2.147657387488609E-9,3.102661519770659E-9,4.463095446410427E-9,6.392495148314818E-9,9.123370059142394E-9,1.2956370240704086E-8,1.8320897132895465E-8,2.5795609698969867E-8,3.616437060084487E-8,5.0483852636517324E-8,7.017153623179913E-8,9.711959959580538E-8,1.3384147700256248E-7,1.836593650145408E-7,2.509527175742783E-7,3.4142525640782546E-7,4.6253043134396105E-7,6.23916930346367E-7,8.380230540758056E-7,1.1208020860897434E-6,1.492611525255723E-6,1.9792961389812627E-6,2.6134983796308504E-6,3.4362332185239316E-6,4.498774407892064E-6,5.864858917432351E-6,7.61333870510144E-6,9.841222577409412E-6,1.2667227313524212E-5,1.6235855479118063E-5,2.0722045313947038E-5,2.633642778767101E-5,3.333121726480895E-5,4.20067506156343E-5,5.271869813705353E-5,6.588580128210458E-5,8.199839033930941E-5,1.0162725656401615E-4,1.2543304193775615E-4,1.5417593184226063E-4,1.8872551627481038E-4,2.3007064039157646E-4,2.7932903686198014E-4,3.3775650743420006E-4,4.067554144433184E-4,4.878821440906871E-4,5.828534394478261E-4,6.935511341182125E-4,8.22025189714994E-4,9.70494774964645E-4,0.0011413472366815379,0.0013371348688670875,0.0015605694653663628,0.0018145147336864774,0.00210197677671087,0.0024260927863793266,0.0027901186835422595,0.0031974157973860685,0.003651437477483937,0.004155716211189948,0.004713851998409213,0.005329502739585533,0.006006377374837751,0.006748232450085337,0.007558872719327667,0.00844215595406217,0.009402002701948629,0.010442410271133436,0.011567471071155291,0.012781394479346724,0.014088531279278402,0.015493399366241375,0.01700070911258575,0.018615386524584943,0.020342592152070803,0.022187733398215413,0.024156468391860846,0.02625469882991461,0.028488550194079858,0.030864337626158107,0.03338851633688934,0.03606761596391742,0.038908158948834405,0.04191656372881729,0.04509903438883761,0.04846143865876437,0.05200917838000341,0.05574705490502724,0.0596791346525352,0.06380861921143317,0.06813772501622192,0.0726675775935442,0.07739812518838839,0.08232807615904301,0.08745486392072545,0.09277464215467913,0.09828231257277993,0.10397158543002448,0.1098350726045405,0.11586441128234022,0.12205041518619031,0.12838324910233018,0.13485262144641286,0.1414479888050727,0.148158765879028,0.15497453373601103,0.16188524005264662,0.16888138427421162,0.17595418235516888,0.18309570610596296,0.19029899355949223,0.19755812812509377,0.20486828579058494,0.21222575116126483,0.21962790462442378,0.22707318417726216,0.23456102691029276,0.24209179555581517,0.2496666965131634,0.25728769571535676,0.26495743860557214,0.27267917993231877,0.280456728174638,0.28829440820809316,0.29619704441986533,0.3041699646475011,0.31221902430970694,0.3203506474350669,0.3285718807548322,0.33689045519254635,0.3453148482743332,0.35385434034747754,0.36251905729678374,0.37131999268662125,0.3802690029435838,0.38937877015921196,0.39866272880969794,0.4081349539071,0.4178100103927123,0.42770276525185214,0.43782816577196065,0.4482009890503142,0.4588355692765817,0.4697455103666433,0.48094339214652027,0.49244047835026367,0.5042464345085367,0.516369062677663,0.5288140589489378,0.541584797905856,0.5546821463804138,0.5681043068742873,0.581846689056029,0.5959018059582492,0.610259190024168,0.6249053230583135,0.6398235737353234,0.6549941362122758,0.6703939642783541,0.6859966967114285,0.7017725714510428,0.7176883285800896,0.7337071048415701,0.7497883253337942,0.7658876009569309,0.7819566427847847,0.7979432071384128,0.8137910863782563,0.8294401618186487,0.8448265349749325,0.8598827525121702,0.8745381383249844,0.8887192432657168,0.9023504192252738,0.915354519700445,0.9276537238146043,0.9391704753331213,0.9498285225544292,0.959554039675597,0.9682768052815878,0.9759314094559869,0.9824584578039428,0.9878057386225668,0.9919293186799587,0.994794533641422,0.9963768411135073,0.9966625075007807,0.9956491042577869,0.9933457944910986,0.989773396991958,0.9849642214017513,0.9789616750507193,0.9718196487851416,0.9636016955400077,0.9543800212804293,0.944234313018371,0.9332504327520924,0.9215190092616756,0.9091339616719311,0.8961909895556679,0.8827860641415447,0.8690139539944485,0.8549668164704869,0.8407328834523539,0.8263952664973182,0.8120309027348447,0.7977096587840721,0.7834936057606093,0.769436474227267,0.7555832938086806,0.7419702182533732,0.7286245328777384,0.715564838010793,0.7028013986625401,0.6903366478467139,0.6781658283409986,0.6662777553855634,0.6546556808582692,0.643278237844363,0.6321204432540227,0.6211547353180424,0.6103520221881386,0.5996827181236913,0.589117743927908,0.5786294694282952,0.5681925771819095,0.5577848285386474,0.5473877156091433,0.536986985527828,0.5265730266140795,0.5161411095793944,0.5056914805485564,0.49522930666327364,0.4847644786669513,0.47431127868780515,0.4638879248613893,0.45351600757117727,0.44321983478611116,0.43302570616463165,0.42296113719910916,0.41305405579080456,0.40333199366829,0.393821295415013,0.38454636633949757,0.37552897938645186,0.366787659159158,0.35833715871436866,0.3501880419815777,0.34234638155871805,0.3348135783284733,0.3275863059967819,0.3206565800367646,0.314011947532153,0.3076357908624232,0.30150773547828774,0.29560414931326146,0.28989871915379506,0.28436308748781514,0.27896753202481145,0.2736816692430151,0.26847516314738123,0.26331842025140434,0.25818325324177044,0.2530434962686776,0.24787555696490987,0.24265889220246042,0.23737639703125746,0.23201469891030355,0.22656435218022783,0.2210199306217785,0.21538001906554738,0.2096471071891839,0.20382739241486145,0.19793049997519946,0.19196913103025268,0.1859586510840196,0.17991663220363102,0.17386236329599733,0.16781634297886397,0.16179976938421806,0.1558340407553185,0.14994027923141787,0.14413888963760943,0.13844916260070175,0.13288892997707674,0.12747427836658923,0.12221932442856014,0.11713605363291273,0.11223422207151248,0.10752131903196896,0.1030025867542647,0.09868109110911547,0.09455783797025931,0.09063192685111021,0.08690073431201634,0.08336011885362826,0.08000463913552659,0.07682777767410288,0.07382216273367398,0.07097978187273886,0.06829218170235839,0.06575064897645795,0.06334637015130455,0.06107056678599033,0.05891460590905583,0.05687008535921908,0.054928895144077096,0.053083256735745675,0.05132574294374007,0.049649281528074005,0.04804714626832875,0.04651293878186775,0.04504056542989493,0.043624212346454,0.04225832200612867,0.04093757401910762,0.039656872309547266,0.03841134018928348,0.037196324157699516,0.036007406563432945,0.034840426687996355,0.0336915089679494,0.03255709700517606,0.03143399114850259,0.030319387454791808,0.02921091558803868,0.028106673224249815,0.027005254652657146,0.025905771505894612,0.02480786387326145,0.02371170065160529,0.02261796792542019,0.02152784565187553,0.020442972421525138,0.0193653992267999,0.0182975333932342,0.017242074259996257,0.01620194251127036,0.015180205283550713,0.014179999288914853,0.013204454299869323,0.012256619023266888,0.011339391674727282,0.010455456865720336,0.0096072304225613,0.008796813311963352,0.008025955500220358,0.007296030199299508,0.006608018586344798,0.005962504731870066,0.005359680209211441,0.004799357442693973,0.004280990902946376,0.0038037048195937945,0.003366326161710689,0.00296742152780479,0.002605336605144152,0.002278236912697368,0.0019841486357408756,0.0017209984809749461,0.0014866516605502081,0.0012789471757024486,0.0010957299159365147,9.348790699525529E-4,7.943326254245638E-4,6.721078399452585E-4,5.663177041475871E-4,4.751835310376394E-4,3.9704389808662804E-4,3.30360229472781E-4,2.7371943578333017E-4,2.2583381094817926E-4,1.8553884065075155E-4,1.5178910822912292E-4,1.2365277063398802E-4,1.003049463573612E-4,8.102034321662708E-5,6.516541814467519E-5,5.219032252816602E-5,4.16208448920946E-5,3.305053964088475E-5,2.6133143195936908E-5,2.057543326261489E-5,1.6130561893354175E-5,1.259192648474747E-5,9.787598256517359E-6,7.575312172101855E-6,5.838007126662648E-6,4.479893618583933E-6,3.4230176542382636E-6,2.6042841029416363E-6,1.9728988961986957E-6,1.4881889066295176E-6,1.1177575558924123E-6,8.359360931510068E-7,6.224924360391733E-7,4.615622456702842E-7,3.4077000597500493E-7,2.505111410889902E-7,1.8336946468301203E-7,1.3364759336584077E-7,9.699048805244387E-8,7.008592702801601E-8,5.042733196498219E-8,3.6127214884522796E-8,2.5771289034637377E-8,1.8305046131688003E-8,1.2946083697976874E-8,9.116723243401938E-9,6.392495148314818E-9,4.463095446410474E-9,3.1026615197706917E-9,2.1476573874886513E-9,1.4802255704483806E-9,1.0158346840522258E-9,6.941452269544203E-10,4.722910967076647E-10,3.1996408649729984E-10,2.158364164517319E-10,1.4497067960358736E-10,9.695440671107546E-11,6.456346337625913E-11,4.280928147178772E-11,2.826317057249017E-11,1.857956806199427E-11,1.2161359118010151E-11,7.926114734374266E-12,5.143637045077119E-12,3.323624678904769E-12,2.1383821205461082E-12,1.3699045766388177E-12,8.738300295314693E-13,5.550028921166456E-13,3.5099032543495426E-13,2.210174948689534E-13,1.3857655273180204E-13,8.651361108033524E-14,5.377874976886231E-14,3.328653048587169E-14,2.0514357403663568E-14,1.2588641225420899E-14,7.691859449582075E-15,4.679671437577526E-15,2.8348554378514195E-15,1.7099286930781031E-15,1.0269672773885197E-15],"r":null,"name":"","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[0.79,0.8,0.81,0.8200000000000001,0.8300000000000001,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.9400000000000001,0.9500000000000001,0.96,0.97,0.98,0.99,1.0,1.01,1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.1300000000000001,1.1400000000000001,1.1500000000000001,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.3800000000000001,1.3900000000000001,1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.2700000000000005,4.28,4.29,4.3,4.3100000000000005,4.32,4.33,4.34,4.3500000000000005,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.5200000000000005,4.53,4.54,4.55,4.5600000000000005,4.57,4.58,4.59,4.6000000000000005,4.61,4.62,4.63,4.64,4.65,4.66,4.67,4.68,4.69,4.7,4.71,4.72,4.73,4.74,4.75,4.76,4.7700000000000005,4.78,4.79,4.8,4.8100000000000005,4.82,4.83,4.84,4.8500000000000005,4.86,4.87,4.88,4.89,4.9,4.91,4.92,4.93,4.94,4.95,4.96,4.97,4.98,4.99,5.0,5.01,5.0200000000000005,5.03,5.04,5.05,5.0600000000000005,5.07,5.08,5.09,5.1000000000000005,5.11,5.12,5.13,5.14,5.15,5.16,5.17,5.18,5.19,5.2,5.21,5.22,5.23,5.24,5.25,5.26,5.2700000000000005,5.28,5.29,5.3,5.3100000000000005,5.32,5.33,5.34,5.3500000000000005,5.36,5.37,5.38,5.39,5.4,5.41,5.42,5.43,5.44,5.45,5.46,5.47,5.48,5.49,5.5,5.51,5.5200000000000005,5.53,5.54,5.55,5.5600000000000005,5.57,5.58,5.59],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"density"},"title":null}, {});</script></div>
<div class="sourceClojure">
<div class="sourceCode" id="cb36"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-density {:=x <span class="at">:sepal-width</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                           :=density-bandwidth <span class="fl">0.05</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[3.595328782500036E-129,4.456952589059277E-127,5.308424413005012E-125,6.074653098816646E-123,6.678909318424126E-121,7.055338134778671E-119,7.16074715336079E-117,6.982759207298128E-115,6.542202971734733E-113,5.889103439012425E-111,5.093338872508883E-109,4.232375403767016E-107,3.3790452886882677E-105,2.5919824940791646E-103,1.910285750866113E-101,1.3526730241175698E-99,9.202705893503744E-98,6.015427226064055E-96,3.7778580201916227E-94,2.2795703944037463E-92,1.32156523171549E-90,7.361264482879685E-89,3.9395304328788307E-87,2.025651446394826E-85,1.0007214248607025E-83,4.7499594053352287E-82,2.166181382364811E-80,9.491349385652537E-79,3.995667330897422E-77,1.6161397265438425E-75,6.280536004120155E-74,2.3449993901268054E-72,8.412343140805463E-71,2.8994755123990306E-69,9.601744203625488E-68,3.054984698266099E-66,9.338909512425306E-65,2.7429097373714827E-63,7.7402517420383E-62,2.0985865063687402E-60,5.466720714443981E-59,1.368217430389205E-57,3.2901187354207924E-56,7.601446521254835E-55,1.6873653954730025E-53,3.598738192517718E-52,7.374279399792555E-51,1.4518346071036288E-49,2.746268029878575E-48,4.99110743984682E-47,8.715235700424877E-46,1.462142079185295E-44,2.3568298803380684E-43,3.650018923140463E-42,5.431130236703872E-41,7.764500799648758E-40,1.0665103676009385E-38,1.4074884669937786E-37,1.7846490656724345E-36,2.1741476464529223E-35,2.5447988461824576E-34,2.861844980884203E-33,3.092195703008156E-32,3.210081509119022E-31,3.2017938666780026E-30,3.068307611797475E-29,2.8250923380124717E-28,2.499163203122395E-27,2.1241481769345916E-26,1.734615493231884E-25,1.3609740792408133E-24,1.025946483560856E-23,7.430666696960921E-23,5.1708159089959475E-22,3.457152934800568E-21,2.2207840431732386E-20,1.370636476222522E-19,8.12767750608334E-19,4.6306169980883435E-18,2.5347753838773207E-17,1.3331171664662906E-16,6.736361444715953E-16,3.270473714261956E-15,1.525541986906871E-14,6.837004849062363E-14,2.9439866175162487E-13,1.2179627211153009E-12,4.841282002389153E-12,1.848906658887072E-11,6.784187042193378E-11,2.3917118772854445E-10,8.101177133097759E-10,2.6364261874993544E-9,8.243494000221617E-9,2.476482459407399E-8,7.148047126265705E-8,1.9822926863137673E-7,5.281732121384229E-7,1.3521136087361984E-6,3.3256628386991646E-6,7.85907570100532E-6,1.7844030102658417E-5,3.892625677546531E-5,8.158692403042543E-5,1.6429588919810676E-4,3.1787842715637934E-4,5.909131228097002E-4,0.001055393549238616,0.0018110626199586296,0.0029859375761713733,0.004729946430344579,0.007198797965445594,0.010526695682734438,0.014789469354424632,0.0199637363793081,0.025891688439469884,0.032263357958242936,0.03862712489267537,0.04443400346702241,0.049112662633659966,0.05216260404718162,0.05324583938430185,0.05225581517941869,0.0493474791198132,0.04492293377899577,0.03957946157096304,0.03403629555228686,0.029059767328643484,0.025402258288142354,0.02376055959674482,0.02474796193226216,0.028866560691128612,0.03646572196955883,0.04768064367098576,0.06235930666985,0.0800015436868385,0.09974345010463934,0.12041765823352212,0.14070244379255356,0.15934337006717864,0.17539936583875032,0.18844347690229069,0.19864848762142315,0.20671398699989116,0.21363892739544751,0.2203972523935035,0.22761386631394562,0.23534706097027847,0.24305480392287238,0.24976350137023876,0.2543888803503163,0.2561047465261709,0.2546374273879098,0.2503896241622736,0.24435845311245008,0.2378861489216556,0.2323403783708217,0.22884194160260077,0.22813263841361764,0.23061472329503552,0.23651947068800447,0.24610521811355054,0.25976859486792886,0.27798534840338446,0.30106914676277813,0.3288216072427579,0.36021099280817753,0.3932321943734654,0.4250553026269939,0.45247580806709914,0.4725684467577365,0.4833607828722565,0.48431729315414457,0.4764742188077338,0.4621754927549056,0.4444918928339215,0.42651044808822014,0.4107193513552345,0.3986705115219188,0.39099377391830975,0.38770496168761676,0.3886444042175644,0.39384345712355284,0.40365820409644565,0.4186156410509374,0.4390467134815749,0.46468135142701233,0.49441126651771705,0.5263706728212528,0.5583604932155595,0.5884939265563608,0.615829067683714,0.6407267946009648,0.6647487690394492,0.6900705252204855,0.7185723351561388,0.7509139918134873,0.7859384630653337,0.8206596758606901,0.8508964391227857,0.8723850001512802,0.8820225522414835,0.8788341602061626,0.8643434573857283,0.8422341689059089,0.8174391132867531,0.7949914493877018,0.7790433449595552,0.7723720267023123,0.7764843568683288,0.7921792784308972,0.8202317571230713,0.86180233669854,0.9182830318112787,0.9905293064673342,1.0777115827509969,1.1762366667780302,1.2792459260963303,1.3770548753344576,1.458595102208191,1.513558113765701,1.534656412593082,1.5193237814534857,1.4703203236713418,1.3950444568402005,1.30376444185463,1.2073172073455232,1.1149623381087712,1.032979863619372,0.9643082246182649,0.909148917675855,0.8661538960020371,0.8336669973689758,0.8105495689555937,0.7963442452610496,0.7908237482394902,0.7932198993985401,0.8015424920151397,0.8123441362384183,0.8210956757786346,0.8230869953928681,0.8145575628981351,0.7936683349657403,0.7609824491631487,0.7192998267944134,0.6729189002753357,0.6265898472508076,0.5845088169450026,0.5496560516108402,0.5236277655688911,0.5069158575716872,0.49942708551370746,0.5009637268660979,0.511432772147379,0.5306881887935783,0.5580844126530193,0.591960061597653,0.629323008203701,0.6659492400041512,0.6969585400102826,0.7177456186374774,0.7249965549167752,0.7174659948297937,0.696254123254478,0.6644825480537769,0.6264662840770818,0.5866420417325944,0.5485822886919871,0.5143780313179236,0.4845328033254658,0.458331361789424,0.4344951645457696,0.41186420698045195,0.3898699043021179,0.3686682306048155,0.3489410939408228,0.33149370826972596,0.3168353251421328,0.3049147603882329,0.29510426801848444,0.28642035306515856,0.27787957505270194,0.2688437142078456,0.25922414599497184,0.24947920018894132,0.24042269633825541,0.23293307555583154,0.22768406304041064,0.2249996416411807,0.22487773071246697,0.22715281052930164,0.2317076302838387,0.2386219995564553,0.24817161023815193,0.26065279336995584,0.27608603664735787,0.2939117357598397,0.3128109220598908,0.33075147797435434,0.345286043747454,0.3540376900869058,0.35523702781794037,0.3481477344967944,0.33324771183438023,0.3121099233958376,0.28702243344321887,0.26046674978889817,0.23460976764818167,0.21094726803642022,0.19017609534048013,0.17229277271123053,0.15684755702368802,0.14324692085421142,0.13100201203474712,0.11985830864493081,0.10979445043235192,0.10092547457709165,0.09337189508421061,0.0871555355291924,0.08216038393170393,0.07816377164874605,0.07491360129986799,0.07221168649100294,0.06996554584758342,0.06818814289230661,0.06694884892602482,0.06629945528126134,0.06620859365204416,0.06653341208726199,0.06704129074720117,0.06747352792095354,0.06762558885473638,0.06741138157253257,0.0668847273465719,0.06620740080447354,0.06557353574209326,0.06511703434905344,0.06483556392727012,0.06455930666946166,0.06397705907156073,0.06271250424217514,0.06042678926905602,0.05691575738704052,0.05217353546895991,0.046406657656447775,0.039999340517510355,0.03344478774288926,0.0272648174497869,0.021939045303279944,0.017856977164097496,0.015295562379485048,0.014415435910403803,0.015264492801155593,0.017778707727253647,0.021776076781355052,0.02694739572021218,0.03285387462129754,0.03894349027582531,0.044594267706262514,0.04918428054130069,0.05217795475659564,0.05321014889374474,0.05214688517826636,0.04910601110445717,0.044431299184338094,0.03862606854625109,0.03226296149970582,0.02589154547852763,0.019963686849659282,0.014789452867436631,0.010526690409882064,0.0071987963452102306,0.0047299459520022975,0.0029859374404876005,0.0018110625829804966,0.0010553935492386294,5.909131228097159E-4,3.1787842715637484E-4,1.6429588919810676E-4,8.158692403042673E-5,3.8926256775466625E-5,1.78440301026581E-5,7.85907570100532E-6,3.3256628386992294E-6,1.3521136087362537E-6,5.281732121384566E-7,1.9822926863137673E-7,7.14804712626587E-8,2.476482459407518E-8,8.24349400022223E-9,2.6364261874993544E-9,8.101177133097992E-10,2.3917118772855717E-10,6.784187042193956E-11,1.848906658887072E-11,4.841282002389156E-12,1.21796272111534E-12,2.943986617516437E-13,6.837004849062119E-14,1.525541986906871E-14,3.270473714262072E-15,6.736361444716431E-16,1.3331171664662524E-16,2.5347753838773207E-17,4.630616998088475E-18,8.127677506083975E-19,1.3706364762224735E-19,2.2207840431732386E-20,3.457152934800691E-21,5.170815908996389E-22,7.430666696961978E-23,1.025946483560856E-23,1.3609740792408713E-24,1.7346154932320441E-25,2.1241481769349087E-26,2.499163203122395E-27,2.8250923380125717E-28,3.06830761179778E-29,3.2017938666785036E-30,3.210081509119022E-31,3.092195703008288E-32,2.8618449808843243E-33,2.5447988461827476E-34,2.1741476464528293E-35,1.7846490656724345E-36,1.4074884669938385E-37,1.0665103676010597E-38,7.764500799648429E-40,5.431130236703872E-41,3.650018923140671E-42,2.3568298803383695E-43,1.4621420791852118E-44,8.715235700424877E-46,4.991107439847104E-47,2.746268029878926E-48,1.451834607103938E-49,7.374279399792555E-51,3.5987381925179224E-52,1.6873653954732426E-53,7.601446521256563E-55,3.2901187354207924E-56,1.3682174303892827E-57,5.4667207144449135E-59,2.0985865063692772E-60,7.7402517420383E-62,2.7429097373716387E-63,9.338909512425837E-65,3.054984698266446E-66,9.601744203624941E-68,2.8994755123990306E-69,8.412343140806182E-71,2.344999390127272E-72,6.280536004119618E-74,1.6161397265438425E-75,3.9956673308976485E-77,9.491349385653883E-79,2.1661813823646877E-80,4.7499594053352287E-82,1.0007214248607876E-83,2.0256514463952868E-85,3.939530432879951E-87,7.361264482879685E-89,1.3215652317155652E-90,2.279570394404135E-92,3.777858020192803E-94,6.015427226064055E-96,9.202705893503744E-98,1.3526730241178772E-99,1.9102857508665472E-101,2.5919824940791646E-103,3.3790452886882677E-105,4.232375403767618E-107,5.093338872509607E-109,5.889103439012425E-111,6.542202971734733E-113,6.982759207299717E-115,7.160747153362417E-117,7.055338134778671E-119,6.678909318424126E-121,6.074653098817336E-123,5.308424413005917E-125],"r":null,"name":"","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[0.79,0.8,0.81,0.8200000000000001,0.8300000000000001,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.9400000000000001,0.9500000000000001,0.96,0.97,0.98,0.99,1.0,1.01,1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.1300000000000001,1.1400000000000001,1.1500000000000001,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.3800000000000001,1.3900000000000001,1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.2700000000000005,4.28,4.29,4.3,4.3100000000000005,4.32,4.33,4.34,4.3500000000000005,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.5200000000000005,4.53,4.54,4.55,4.5600000000000005,4.57,4.58,4.59,4.6000000000000005,4.61,4.62,4.63,4.64,4.65,4.66,4.67,4.68,4.69,4.7,4.71,4.72,4.73,4.74,4.75,4.76,4.7700000000000005,4.78,4.79,4.8,4.8100000000000005,4.82,4.83,4.84,4.8500000000000005,4.86,4.87,4.88,4.89,4.9,4.91,4.92,4.93,4.94,4.95,4.96,4.97,4.98,4.99,5.0,5.01,5.0200000000000005,5.03,5.04,5.05,5.0600000000000005,5.07,5.08,5.09,5.1000000000000005,5.11,5.12,5.13,5.14,5.15,5.16,5.17,5.18,5.19,5.2,5.21,5.22,5.23,5.24,5.25,5.26,5.2700000000000005,5.28,5.29,5.3,5.3100000000000005,5.32,5.33,5.34,5.3500000000000005,5.36,5.37,5.38,5.39,5.4,5.41,5.42,5.43,5.44,5.45,5.46,5.47,5.48,5.49,5.5,5.51,5.5200000000000005,5.53,5.54,5.55,5.5600000000000005,5.57,5.58,5.59],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"density"},"title":null}, {});</script></div>
<div class="sourceClojure">
<div class="sourceCode" id="cb37"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-density {:=x <span class="at">:sepal-width</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                           :=density-bandwidth <span class="dv">1</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[0.04166710171912144,0.04247965499421386,0.04330429099337671,0.044141100007687416,0.044990170896767094,0.045851591030583776,0.0467254462307934,0.04761182071164298,0.04851079702045364,0.04942245597771165,0.050346876616789216,0.05128413612331662,0.052234309774237715,0.053197470876567454,0.05417369070588278,0.05516303844457152,0.05616558111986842,0.057181383541706425,0.058210508240410345,0.05925301540426701,0.06030896281699658,0.06137840579516116,0.06246139712553748,0.06355798700248966,0.06466822296537197,0.06579214983599582,0.0669298096561938,0.06808124162551671,0.06924648203909713,0.07042556422571271,0.07161851848608883,0.07282537203147485,0.07404614892252867,0.0752808700085498,0.07652955286709692,0.07779221174402545,0.07906885749398879,0.08035949752143438,0.08166413572214211,0.0829827724253333,0.08431540433640218,0.08566202448029674,0.0870226221456002,0.08839718282934522,0.0897856881826051,0.09118811595689873,0.092604439951457,0.09403462996138146,0.09547865172674458,0.09693646688266774,0.09840803291041815,0.0998933030895679,0.10139222645125286,0.10290474773257434,0.10443080733218395,0.10597034126708832,0.1075232811307232,0.10908955405232465,0.11066908265764898,0.11226178503107337,0.11386757467911895,0.11548636049543912,0.11711804672730358,0.11876253294362725,0.1204197140045717,0.12208948003276346,0.1237717163861656,0.12546630363263667,0.12717311752621294,0.12889202898515664,0.13062290407179225,0.13236560397417899,0.13411998498964395,0.13588589851021318,0.13766319100996888,0.13945170403437185,0.14125127419157132,0.14306173314573806,0.14488290761244824,0.1467146193561433,0.14855668518969864,0.15040891697612604,0.15227112163242856,0.15414310113564372,0.156024652531089,0.15791556794283582,0.1598156345864356,0.16172463478391316,0.163642345981046,0.16556854076695815,0.16750298689602877,0.16944544731214606,0.17139568017530898,0.1733534388905985,0.17531847213952514,0.17729052391376462,0.17926933355129143,0.18125463577491427,0.1832461607332271,0.1852436340439728,0.18724677683982519,0.18925530581659997,0.1912689332838781,0.19328736721805714,0.19531031131781906,0.19733746506201616,0.1993685237699644,0.20140317866414012,0.20344111693527278,0.20548202180982322,0.20752557261983395,0.2095714448751457,0.2116193103379494,0.21366883709967932,0.21571968966021374,0.21777152900937,0.21982401271067287,0.22187679498737117,0.2239295268106839,0.22598185599024473,0.22803342726672426,0.23008388240659292,0.2321328602990039,0.23417999705475487,0.2362249261073056,0.23826727831580838,0.24030668207011754,0.24234276339774227,0.24437514607270303,0.2464034517262453,0.2484272999593798,0.2504463084571927,0.25246009310489265,0.254468268105536,0.2564704460993962,0.25846623828491677,0.2604552545412011,0.2624371035519911,0.264411392931076,0.2663777293490806,0.2683357186615739,0.2702849660384466,0.2722250760944979,0.274155653021164,0.27607630071934314,0.2779866229332467,0.27988622338521196,0.28177470591142145,0.28365167459845636,0.2855167339206301,0.28736948887801517,0.2892095451351263,0.2910365091601653,0.29284998836477355,0.294649591244217,0.2964349275179396,0.29820560827041276,0.29996124609220126,0.30170145522119,0.30342585168388647,0.3051340534367289,0.3068256805073372,0.30850035513561846,0.31015770191466496,0.31179734793135966,0.31341892290663564,0.31502205933529004,0.31660639262529455,0.3181715612365257,0.3197172068188381,0.3212429743494045,0.3227485122692558,0.3242334726189429,0.32569751117324475,0.3271402875748481,0.3285614654669354,0.3299607126245981,0.33133770108500776,0.33269210727626947,0.3340236121448899,0.335331901281789,0.33661666504678245,0.3378775986914694,0.33911440248045405,0.3403267818108253,0.34151444732984904,0.34267711505078463,0.34381450646677075,0.34492634866271193,0.34601237442511046,0.3470723223497687,0.3481059369473087,0.3491129687464565,0.35009317439501164,0.35104631675846065,0.35197216501617423,0.35287049475513466,0.35374108806113497,0.3545837336073968,0.355398226740568,0.35618436956403376,0.35694197101850694,0.3576708469598448,0.35837082023405276,0.35904172074941715,0.3596833855457494,0.36029565886068465,0.3608783921929993,0.3614314443629133,0.3619546815693497,0.36244797744410057,0.3629112131028884,0.36334427719328216,0.36374706593944667,0.3641194831836895,0.3644614404247965,0.36477285685313,0.3650536593824591,0.36530378267851893,0.36552316918428024,0.36571176914190207,0.36586954061137983,0.3659964494858576,0.3660924695036086,0.3661575822566711,0.36619177719614515,0.3661950516341416,0.36616741074237974,0.3661088675474493,0.36601944292272964,0.3658991655769729,0.36574807203956866,0.36556620664249107,0.3653536214989432,0.36511037647871386,0.36483653918026443,0.36453218489956374,0.36419739659568084,0.36383226485317866,0.3634368878413109,0.363011371270058,0.3625558283430339,0.36207037970728284,0.36155515340000416,0.36101028479223524,0.360435916529529,0.3598321984696621,0.35919928761741243,0.3585373480564404,0.35784655087832457,0.35712707410878897,0.3563791026311655,0.35560282810714267,0.35479844889484075,0.35396616996427593,0.35310620281024346,0.3522187653626908,0.3513040818946287,0.3503623829276223,0.34939390513493923,0.34839889124239737,0.3473775899269669,0.3463302557132049,0.3452571488675599,0.344158535290631,0.3430346864074175,0.3418858790556468,0.3407123953722363,0.33951452267794124,0.33829255336028247,0.3370467847547923,0.3357775190246611,0.33448506303885417,0.3331697282487552,0.3318318305634281,0.3304716902235331,0.32908963167400157,0.3276859834355208,0.3262610779749,0.32481525157440483,0.3233488442001052,0.321862199369335,0.32035566401731863,0.31882958836304026,0.3172843257744385,0.31572023263297816,0.31413766819768774,0.31253699446873023,0.3109185760505747,0.30928278001484966,0.3076299757629392,0.3059605348883988,0.3042748310392579,0.30257323978028927,0.3008561384553033,0.2991239060495438,0.2973769230522478,0.2956155713194493,0.29384023393708436,0.2920512950844695,0.29024913989821605,0.28843415433665853,0.28660672504483936,0.2847672392201384,0.2829160844785994,0.28105364872201266,0.27918032000582116,0.27729648640791377,0.2754025358983582,0.2734988562101327,0.27158583471092596,0.26966385827604433,0.2677333131624968,0.265794584884299,0.2638480580890707,0.26189411643594784,0.2599331424748899,0.25796551752741453,0.25599162156881183,0.25401183311189346,0.25202652909230233,0.25003608475545647,0.2480408735451423,0.24604126699381404,0.24403763461464356,0.24203034379534014,0.24001975969380465,0.23800624513562782,0.23599016051349164,0.23397186368848383,0.23195170989338001,0.2299300516379043,0.22790723861601242,0.2258836176152159,0.22385953242797352,0.22183532376518425,0.21981132917179216,0.21778788294453222,0.2157653160518355,0.21374395605591295,0.21172412703703364,0.20970614952001904,0.20769034040295395,0.20567701288814486,0.20366647641532,0.2016590365970992,0.19965499515672278,0.19765464986805864,0.1956582944978952,0.19366621875051226,0.1916787082145461,0.189696044312143,0.18771850425040162,0.18574636097510508,0.1837798831267383,0.18181933499879316,0.17986497649834263,0.17791706310889588,0.1759758458555061,0.1740415712721444,0.17211448137130844,0.1701948136158726,0.16828280089315323,0.1663786714911831,0.16448264907718016,0.1625949526781904,0.16071579666389296,0.15884539073154696,0.1569839398930579,0.15513164446415287,0.1532887000556339,0.1514552975666927,0.14963162318026274,0.14781785836038575,0.14601417985156417,0.14422075968008422,0.14243776515726816,0.14066535888464324,0.13890369876098993,0.1371529379912488,0.13541322509724485,0.13368470393021548,0.13196751368509854,0.1302617889165552,0.12856765955669314,0.1268852509344655,0.1252146837966971,0.12355607433072534,0.12190953418860223,0.12027517051283873,0.11865308596364757,0.11704337874765358,0.11544614264803414,0.11386146705605905,0.11228943700398561,0.11073013319928175,0.109183632060133,0.10765000575220379,0.10612932222661177,0.10462164525907738,0.10312703449021854,0.10164554546694254,0.10017722968490914,0.09872213463202065,0.09728030383290322,0.09585177689434184,0.09443658955163506,0.09303477371582707,0.09164635752178481,0.09027136537707835,0.08890981801163471,0.0875617325281188,0.08622712245301391,0.08490599778836118,0.0835983650641212,0.08230422739112346,0.08102358451456908,0.07975643286804636,0.07850276562803281,0.07726257276883855,0.07603584111796588,0.07482255441184242,0.07362269335190307,0.07243623566097926,0.07126315613996737,0.07010342672474142,0.06895701654328058,0.06782389197297421,0.06670401669808143,0.06559735176730588,0.06450385565146172,0.06342348430119565,0.062356191204742145,0.06130192744567532,0.06026064176063558,0.05923228059699952,0.05821678817046657,0.05721410652253663,0.05622417557785108,0.05524693320137257,0.05428231525537687,0.05333025565623532,0.05239068643096031,0.051463537773492524,0.05054873810070719,0.049646214108116676,0.0487558908252458,0.04787769167066475,0.047011538506650234,0.046157351693464826,0.04531505014322687,0.044484551373357724,0.04366577155958619,0.04285862558849223,0.042063027109575414,0.041278888586827836,0.04050612134980173,0.03974463564415087,0.0389943406816332,0.038255144689565444,0.03752695495970743,0.036809677896571594,0.0361032190651431,0.03540748323799469,0.03472237444179324,0.03404779600318055,0.033383650594023706,0.03272984027602162,0.032086266544661145,0.031452830372517025,0.030829432251881922,0.030215972236725116,0.0296123499839717,0.029018464794093736,0.02843421565101219,0.027859501261301444,0.027294220092692324,0.026738270411871344,0.026191550321571142,0.02565395779694896,0.025125390721251528],"r":null,"name":"","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[0.79,0.8,0.81,0.8200000000000001,0.8300000000000001,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.9400000000000001,0.9500000000000001,0.96,0.97,0.98,0.99,1.0,1.01,1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.1300000000000001,1.1400000000000001,1.1500000000000001,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.3800000000000001,1.3900000000000001,1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.2700000000000005,4.28,4.29,4.3,4.3100000000000005,4.32,4.33,4.34,4.3500000000000005,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.5200000000000005,4.53,4.54,4.55,4.5600000000000005,4.57,4.58,4.59,4.6000000000000005,4.61,4.62,4.63,4.64,4.65,4.66,4.67,4.68,4.69,4.7,4.71,4.72,4.73,4.74,4.75,4.76,4.7700000000000005,4.78,4.79,4.8,4.8100000000000005,4.82,4.83,4.84,4.8500000000000005,4.86,4.87,4.88,4.89,4.9,4.91,4.92,4.93,4.94,4.95,4.96,4.97,4.98,4.99,5.0,5.01,5.0200000000000005,5.03,5.04,5.05,5.0600000000000005,5.07,5.08,5.09,5.1000000000000005,5.11,5.12,5.13,5.14,5.15,5.16,5.17,5.18,5.19,5.2,5.21,5.22,5.23,5.24,5.25,5.26,5.2700000000000005,5.28,5.29,5.3,5.3100000000000005,5.32,5.33,5.34,5.3500000000000005,5.36,5.37,5.38,5.39,5.4,5.41,5.42,5.43,5.44,5.45,5.46,5.47,5.48,5.49,5.5,5.51,5.5200000000000005,5.53,5.54,5.55,5.5600000000000005,5.57,5.58,5.59],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"density"},"title":null}, {});</script></div>
<div class="sourceClojure">
<div class="sourceCode" id="cb38"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-density {:=x <span class="at">:sepal-width</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                           :=color <span class="at">:species</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[2.578745856131453E-9,3.5246079269131195E-9,4.80315726679375E-9,6.526142047000647E-9,8.84097088854562E-9,1.1941451559897729E-8,1.6081553674032514E-8,2.1592981388735495E-8,2.890752692644209E-8,3.8585398493333865E-8,5.135098320432058E-8,6.81378238871785E-8,9.014496575064516E-8,1.1890727301932165E-7,1.5638283536090302E-7,2.0506118811561984E-7,2.680967678527118E-7,3.4947282417753963E-7,4.542019178123303E-7,5.885701603300715E-7,7.604334971931018E-7,9.795756049370426E-7,1.2581383639092268E-6,1.6111373738329975E-6,2.0570765888687013E-6,2.618677843121674E-6,3.323742789844846E-6,4.206166551474616E-6,5.307124125790119E-6,6.676452256353617E-6,8.37425098006659E-6,1.0472730323932215E-5,1.3058328534789E-5,1.623412867255739E-5,2.0122600247327918E-5,2.4868691687547018E-5,3.064329763284096E-5,3.764712218369621E-5,4.611495513897999E-5,5.632037273839821E-5,6.858086733344722E-5,8.326340158327277E-5,1.0079037207879527E-4,1.21645954820912E-4,1.4638278910265038E-4,1.7562894297362518E-4,2.100950795152071E-4,2.5058172760072353E-4,2.9798653583237313E-4,3.5331136580458907E-4,4.176690564078496E-4,4.92289666240894E-4,5.785259768711445E-4,6.77858057043186E-4,7.918964001633411E-4,9.223838826679557E-4,0.0010711955872085078,0.0012403366552693538,0.001431937684489796,0.0016482473959610602,0.0018916222811612912,0.0021645129601146266,0.00246944701448737,0.002809008126745278,0.0031858112503530918,0.0036024740550967944,0.004061584252625163,0.004565663174480489,0.005117125682659873,0.005718236721220721,0.006371064911194999,0.007077433705526493,0.00783887073620866,0.008656556131708511,0.009531270477264374,0.010463343793103924,0.0114526060392702,0.0124983406304068,0.013599241975953835,0.01475337825236055,0.015958160591469307,0.017210319840792816,0.018505891992764076,0.01984021329859951,0.021207925907413668,0.022602994873824125,0.02401873695636715,0.025447861655132693,0.026882524580596385,0.028314393046486284,0.029734723522417367,0.031134450326707575,0.032504284687453415,0.03383482312262392,0.035116663439527386,0.036340527657543496,0.037497389089126566,0.03857860248687889,0.03957603504196422,0.04048219630333053,0.04129036504584698,0.04199471116826548,0.04259041080334157,0.0430737530108631,0.04344223634829014,0.04369465459506097,0.043831169975649835,0.04385337363744874,0.04376433278814332,0.04356862440215833,0.04327235567105816,0.04288317165072343,0.0424102508109422,0.041864289428139606,0.04125747583140372,0.040603455943505014,0.03991729115409079,0.03921541003453238,0.0385155551026516,0.03783672582965812,0.03719911891663614,0.03662406666419242,0.036133974011901424,0.035752254558859796,0.03550326546316498,0.03541224110228802,0.03550522457742215,0.035808996292087475,0.036350998292696494,0.037159252897583775,0.03826227393620444,0.03968896878859118,0.041468529355165026,0.04363031013101273,0.04620369150334197,0.04921792703806748,0.052701973089004366,0.0566843001136996,0.06119268514404099,0.06625398551109261,0.07189389449794031,0.07813668023605189,0.08500490983708903,0.09251916145362467,0.1006977275985736,0.10955631387369807,0.11910773763787735,0.1293616319318469,0.14032416031344624,0.1519977486610405,0.16438084023382366,0.1774676803738452,0.19124813717762892,0.20570756424621825,0.2208267112348589,0.23658168737234336,0.25294398239609556,0.2698805484795029,0.28735394570808165,0.3053225525197869,0.3237408412793964,0.34255971783411016,0.3617269225260693,0.381187488749171,0.4008842537638167,0.42075841516458445,0.4407501251530874,0.4607991136541614,0.48084533034150956,0.5008295948498813,0.5206942438656381,0.5403837634288117,0.5598453946639824,0.579029701295743,0.5978910877024227,0.6163882569186908,0.634484598906357,0.6521485005605758,0.6693535702862708,0.6860787715425901,0.7023084614815612,0.7180323326665213,0.7332452578079347,0.7479470394576153,0.7621420686133376,0.7758388981596186,0.7890497389617301,0.8017898881943122,0.8140771010805493,0.8259309186025547,0.837371964882248,0.8484212287926477,0.8590993449161851,0.8694258891992424,0.879418704547839,0.8890932711626351,0.8984621356246703,0.9075344116269904,0.9163153638202528,0.9248060845290782,0.9330032711347859,0.9408991097502953,0.9484812684821667,0.9557330011356255,0.9626333597279446,0.9691575116932146,0.9752771552481582,0.9809610241045752,0.9861754706176853,0.990885114605559,0.995053543512652,0.9986440483624104,1.0016203790846734,1.0039475023381086,1.0055923448909734,1.0065245059792354,1.0067169228222241,1.0061464746244269,1.004794511898632,1.0026472997716327,0.9996963660311171,0.9959387469857187,0.9913771266780876,0.9860198675475336,0.979880933216404,0.9729797066045887,0.9653407089931809,0.9569932278984611,0.9479708636240124,0.9383110060820167,0.9280542548732728,0.9172437966577168,0.9059247545122138,0.8941435242500484,0.8819471125680849,0.8693824914047379,0.8564959820571211,0.843332681450404,0.829935941516513,0.8163469109693166,0.8026041469114406,0.788743301729278,0.7747968886849824,0.7607941275547884,0.7467608696477048,0.7327195996203609,0.7186895097303833,0.7046866405847847,0.6907240810765082,0.6768122190894071,0.6629590337090885,0.6491704191154143,0.6354505300546478,0.6218021387901689,0.608226993697076,0.5947261701782034,0.5813004053109475,0.5679504085550873,0.5546771419264741,0.5414820642327131,0.5283673352356612,0.5153359769126974,0.5023919902957348,0.48954042763777095,0.47678742085794096,0.46414016831799404,0.45160688296090784,0.43919670567573904,0.4269195884272669,0.41478615219497544,0.4028075251000153,0.3909951662621425,0.3793606809280618,0.3679156322587897,0.35667135487169893,0.3456387748207451,0.3348282401867045,0.32424936586024,0.3139108954575611,0.3038205826345228,0.29398509338290746,0.28440993022375427,0.2750993785761579,0.2660564749930673,0.2572829964321446,0.2487794692808435,0.24054519648784325,0.23257830087232753,0.22487578248906676,0.21743358781876881,0.21024668852469927,0.20330916756063427,0.19661431052242218,0.1901547002947165,0.18392231324388034,0.17790861543514278,0.1721046575944004,0.16650116778073135,0.1610886409737915,0.15585742500124936,0.15079780239924206,0.1459000681696215,0.14115460288153975,0.13655194178795535,0.1320828394945171,0.127738330493157,0.12350978559614897,0.11938896431060365,0.11536806313677005,0.11143975970353763,0.10759725256140766,0.10383429650182473,0.10014523281546607,0.096525014528497,0.09296922590561402,0.08947409595068333,0.0860365054895284,0.08265398748480422,0.07932472030043031,0.07604751372554225,0.07282178765985305,0.06964754365960107,0.06652532917116652,0.06345619533725914,0.06044164846227356,0.05748359597644022,0.05458428766370949,0.05174625307340374,0.048972236137176925,0.04626512808931525,0.04362789983113274,0.04106353494064888,0.03857496438510698,0.03616500418152373,0.033836296937310585,0.031591258259113277,0.02943202884363077,0.027360432933564202,0.02537794366884653,0.023485655701122682,0.02168426522815511,0.019974057768203386,0.01835490280242672,0.016826256068596224,0.015387168253698737,0.014036299917730234,0.012771941955566928,0.011592040889925485,0.010494228231619815,0.009475853108593535,0.008534017323863559,0.007665612215523792,0.006867356071610497,0.006135832025013686,0.005467525220756698,0.004858858869368695,0.00430622860990347,0.003806034728817001,0.0033547118660127214,0.0029487559249525464,0.0025847479761751985,0.0022593751063865212,0.0019694479795358435,0.0017119153988400216,0.0014838757395307172,0.0012825854767030472,0.0011054649675958507,9.501016973232784E-4,8.142512217148513E-4,6.958360573011811E-4,5.929427658851567E-4,5.03817565875032E-4,4.268605382134407E-4,3.606189404549154E-4,3.0377965021859626E-4,2.5516104597858027E-4,2.1370450672435432E-4,1.7846570767937668E-4,1.4860586773942695E-4,1.2338308259078097E-4,1.021438392036614E-4,8.431491078494323E-5,6.939542316517993E-5,5.6949545833333874E-5,4.659952908172377E-5,3.801924795879056E-5,3.0928240906939626E-5,2.508624476925365E-5,2.0288218987145247E-5,1.6359844622022893E-5,1.3153472462955815E-5,1.0544532134919094E-5,8.428279631564304E-6,6.716988792659359E-6,5.3374492308672575E-6,4.22878644562603E-6,3.340566075764079E-6,2.6311534744543064E-6,2.066301138035961E-6,1.6179381449382136E-6,1.26313744723688E-6,9.83239673257836E-7,7.631112198837527E-7,5.905213344663921E-7,4.5561952014638366E-7,3.504997529930197E-7,2.6883851072199925E-7,2.055953748987085E-7,1.567664182517019E-7,1.1918190510283654E-7,9.034089379003976E-8,6.827728557116771E-8,5.144996087756261E-8,3.8655438038015366E-8,2.8956943525112207E-8,2.1627745055432518E-8,1.610593746544068E-8,1.195850451172912E-8,8.852861941713017E-9,6.534409338653903E-9,4.8087653469648335E-9],"r":null,"name":"setosa","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#1B9E77"},"lon":null,"lat":null,"x":[1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.3800000000000001,1.3900000000000001,1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.2700000000000005,4.28,4.29,4.3,4.3100000000000005,4.32,4.33,4.34,4.3500000000000005,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.5200000000000005,4.53,4.54,4.55,4.5600000000000005,4.57,4.58,4.59,4.6000000000000005,4.61,4.62,4.63,4.64,4.65,4.66,4.67,4.68,4.69,4.7,4.71,4.72,4.73,4.74,4.75,4.76,4.7700000000000005,4.78,4.79,4.8,4.8100000000000005,4.82,4.83,4.84,4.8500000000000005,4.86,4.87,4.88,4.89,4.9,4.91,4.92,4.93,4.94,4.95,4.96,4.97,4.98,4.99,5.0,5.01,5.0200000000000005,5.03,5.04,5.05,5.0600000000000005,5.07,5.08,5.09,5.1000000000000005,5.11,5.12,5.13,5.14,5.15,5.16,5.17,5.18,5.19,5.2,5.21,5.22,5.23,5.24,5.25,5.26,5.2700000000000005,5.28,5.29,5.3,5.3100000000000005,5.32,5.33,5.34,5.3500000000000005,5.36,5.37,5.38,5.39,5.4,5.41,5.42,5.43,5.44],"text":null},{"y":[1.3245322182305848E-6,1.7889293504539138E-6,2.4057709722117236E-6,3.221413577537443E-6,4.295073022634855E-6,5.7020011553237706E-6,7.53733170090456E-6,9.920704476647226E-6,1.3001804553247005E-5,1.696684386546488E-5,2.2046344956241118E-5,2.8524079963291485E-5,3.674749527535882E-5,4.7139674032253545E-5,6.021296114496387E-5,7.658434297790626E-5,9.699264420518916E-5,1.223175649673108E-4,1.5360055870673392E-4,1.9206731482352332E-4,2.3915202724619937E-4,2.96522785005543E-4,3.6610804627752004E-4,4.501236516657532E-4,5.51099857158627E-4,6.719077450806273E-4,8.157842704274384E-4,9.863551082494417E-4,0.0011876544096003007,0.0014241404024309843,0.0017007060755180182,0.002022683685983654,0.002395842364494741,0.002826377924187602,0.003320894221558544,0.0038863756177245036,0.0045301503555417,0.00525984498734226,0.006083330389309251,0.007008660065792088,0.008044002521186555,0.009197568888960516,0.01047753837526909,0.011891983906956885,0.013448800855744961,0.015155641909815673,0.01701986127412529,0.01904847135629422,0.021248114962947245,0.023625055396968703,0.026185187146299038,0.028934067903510732,0.031876973010443885,0.03501897177170939,0.038365024217168156,0.04192009572387433,0.04568928575304685,0.04967796584336293,0.05389192104148847,0.05833748774581977,0.06302168127862665,0.06795230461262379,0.07313803105801293,0.07858845319860475,0.0843140912800475,0.0903263552403297,0.09663745594098909,0.10326026283566636,0.11020810730970779,0.11749453263494365,0.1251329948419367,0.13313651926195494,0.14151732129410213,0.1502864009453499,0.1594531226400243,0.16902479302868947,0.1790062503532463,0.1893994792519857,0.20020326470273347,0.21141289794423432,0.2230199462830325,0.2350120964495696,0.24737307950307535,0.26008268254792355,0.27311684992379315,0.28644787372591646,0.30004467072624375,0.3138731401057515,0.32789659399951443,0.3420762506424724,0.35637177854261787,0.37074187837819267,0.3851448890738481,0.3995394040279924,0.4138848838311195,0.4281422525385534,0.44227446568981843,0.45624703971237096,0.47002853402127276,0.48359097893281816,0.49691024435598224,0.5099663460134948,0.5227436876013863,0.5352312387462403,0.5474226498182746,0.559316305573232,0.5709153202176103,0.5822274768306858,0.5932651141621319,0.6040449637012848,0.6145879396402637,0.6249188839936535,0.6350662687598442,0.6450618566795066,0.6549403219236783,0.6647388319756868,0.6744965920907802,0.6842543540417949,0.6940538913869319,0.70393744420794,0.7139471371279807,0.7241243753791337,0.7345092246899547,0.7451397817383557,0.7560515427970221,0.7672767789244986,0.7788439265693781,0.7907770027150027,0.8030950536699412,0.8158116462956503,0.8289344098656758,0.8424646358975514,0.8563969422325939,0.8707190064169061,0.8854113721259083,0.900447331045836,0.9157928813506109,0.9314067627569028,0.9472405671602216,0.9632389230912196,0.9793397517078369,0.9954745917584017,1.0115689908962828,1.0275429608606792,1.043311494305809,1.058785141392797,1.0738706445767663,1.088471630243342,1.1024893558944975,1.1158235113817434,1.1283730721787222,1.1400372018381846,1.1507161995776445,1.1603124873975315,1.1687316292976688,1.175883373091641,1.1816827031186017,1.1860508899327933,1.1889165209428354,1.1902164941125417,1.1898969553605323,1.1879141593356168,1.184235232911052,1.1788388211206855,1.1717155964102242,1.162868614017544,1.1523134990086357,1.140078453920745,1.126204080004451,1.1107430095780908,1.0937593518491264,1.0753279595332488,1.0555335285163827,1.034469547457416,1.0122371184282102,0.9889436732573434,0.9647016130371587,0.9396269001558716,0.9138376331545225,0.8874526346520063,0.8605900815456243,0.8333662047376401,0.8058940828584726,0.7782825509863079,0.7506352413593462,0.7230497687161798,0.6956170683656122,0.6684208905614543,0.6415374504117198,0.615035228537842,0.5889749141451746,0.5634094791687222,0.5383843697820604,0.5139377998285847,0.49010112970567643,0.4668993136482289,0.4443513987146543,0.4224710591375516,0.40126715088333614,0.38074427254068016,0.3609033202201415,0.34174202583119123,0.32325546983596143,0.30543656128143043,0.28827647963764713,0.2717650742249129,0.25589121887957256,0.24064312023579904,0.22600857941169758,0.21197520771013226,0.19853059776908608,0.18566245228488948,0.17335867301796104,0.16160741327665826,0.1503970975799445,0.13971641227548762,0.1295542716461365,0.11989976373432872,0.11074208056996178,0.10207043741700043,0.09387398562979746,0.08614172357279017,0.07886240982209523,0.0720244825174147,0.06561598843571284,0.05962452444253314,0.05403719411498855,0.04884058093645602,0.044020739288861105,0.039563203621230426,0.03545301554337575,0.031674767974640416,0.02821266491825936,0.025050594938979452,0.022172216118983266,0.019561049710555424,0.01720058000621422,0.01507435737035173,0.013166101740180606,0.01145980392034657,0.009939822231565809,0.008590972360939092,0.007398608601663984,0.006348695021960859,0.005427865667272955,0.0046234727525026175,0.0039236231368826,0.0033172027116335815,0.002793889298006829,0.0023441546907124458,0.0019592567387685038,0.0016312225241728966,0.0013528238148051044,0.001117546004793674,9.19551989127152E-4,7.536417215432946E-4,6.152093428245161E-4,5.001984137548996E-4,4.050564961655572E-4,3.2668991467101836E-4,2.624194497628111E-4,2.0993758316933692E-4,1.6726778883548098E-4,1.327262065856318E-4,1.0488617973776925E-4,8.254522524989327E-5,6.469534880271528E-5,5.049601961020743E-5,3.925003438232196E-5,3.038210104772249E-5,2.3419990368244333E-5,1.797807773534136E-5,1.374308120347048E-5,1.0461753149549356E-5,7.930580929271932E-6,5.9866093902168285E-6,4.500177004043878E-6,3.3685929034109956E-6,2.5109343910985945E-6],"r":null,"name":"versicolor","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#D95F02"},"lon":null,"lat":null,"x":[1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.3800000000000001,1.3900000000000001,1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08],"text":null},{"y":[1.2706916017088315E-8,1.8575434324370462E-8,2.7024869736711743E-8,3.9130379344311963E-8,5.638847194004695E-8,8.087092584688758E-8,1.1543043408902275E-7,1.6397365246208328E-7,2.3182146399441335E-7,3.2618129623998616E-7,4.567623579254758E-7,6.365718155187236E-7,8.829383103171451E-7,1.2188478466887288E-6,1.6745024051409045E-6,2.2895397381820073E-6,3.1155647029582576E-6,4.219408773281435E-6,5.687124459633205E-6,7.6288705518409414E-6,1.0184840458881106E-5,1.3532398853987707E-5,1.789460197882728E-5,2.3550292568969356E-5,3.0845898125652354E-5,4.020922614037796E-5,5.2165263436571486E-5,6.735420844547463E-5,8.655177812675336E-5,1.1069181463751236E-4,1.4089113059589313E-4,1.784764314774641E-4,2.2501303247279492E-4,2.823349741515083E-4,3.525757943189205E-4,4.3819955148499613E-4,5.420307040661597E-4,6.672820060701351E-4,8.175789627788264E-4,9.969793451358683E-4,0.0012099860903334169,0.0014615518028474408,0.0017570730119661185,0.0021023724219966515,0.0025036670579400943,0.002967521611564171,0.003500784738738143,0.004110508246527119,0.004803848680362557,0.005587951820308956,0.006469821354916737,0.0074561739013861116,0.00855328351395499,0.009766819844079911,0.011101685061925336,0.01256185577576462,0.014150236761767136,0.015868534243074685,0.01771715675839518,0.019695151858947393,0.021800186676771624,0.02402857983015548,0.02637539113623305,0.028834574278549952,0.03139919504283355,0.03406171736849642,0.03681435392931816,0.039649477837777426,0.04256008746990546,0.04554031380461055,0.04858595659697993,0.051695032931245936,0.05486831931356172,0.05810986664854991,0.06142746609556316,0.06483304396093638,0.06834296353030941,0.0719782140152357,0.07576446887450387,0.07973199938741862,0.0839154337231108,0.08835335691867234,0.09308775296554792,0.09816329643777966,0.10362650720741097,0.1095247887297468,0.11590537516550586,0.12281421877213056,0.13029485262432364,0.13838726687294503,0.14712683826016448,0.15654335254412918,0.1666601577298093,0.1774934825537511,0.18905194942793874,0.2013363047674942,0.21433938118645612,0.2280462976619695,0.24243489398201792,0.2574763861784358,0.27313622017616496,0.28937509213165574,0.3061500963193743,0.3234159553732172,0.3411262834670293,0.35923483119890237,0.37769666102695476,0.39646920510359873,0.41551316230185054,0.43479319851504583,0.45427842340214003,0.47394262729263575,0.4937642734531388,0.5137262527859352,0.5338154196734575,0.5540219384879841,0.5743384796644934,0.594759311655603,0.6152793401089822,0.6358931479045383,0.6565940890751455,0.6773734860795512,0.6982199735310097,0.7191190226028716,0.7400526693769754,0.7609994579481907,0.7819345958293946,0.8028303058652838,0.8236563462403566,0.8443806590205807,0.8649700987051747,0.8853911860865152,0.9056108297821331,0.9255969583970318,0.9453190104818354,0.9647482371446391,0.9838577830105152,1.002622524659604,1.021018660993132,1.0390230663169977,1.0566124333422473,1.073762248789643,1.0904456578812112,1.1066322848251178,1.1222870836191225,1.1373692968544338,1.1518315986916563,1.1656194926822179,1.1786710249065155,1.1909168590271109,1.2022807427725608,1.2126803760326939,1.222028670206519,1.2302353678423845,1.2372089721098842,1.2428589183575887,1.2470979059331369,1.2498442983858182,1.2510244947180986,1.2505751738173698,1.248445318613407,1.2445979356171868,1.239011398782932,1.2316803633462268,1.222616214493462,1.2118470363553542,1.199417107777781,1.1853859515053329,1.1698269817930427,1.1528258111497947,1.1344782892062615,1.114888355099374,1.0941657890189593,1.072423948652735,1.049777572402553,1.0263407238390856,1.0022249414896183,0.977537645412686,0.9523808378739617,0.9268501205949329,0.9010340362698166,0.8750137280434044,0.8488628980194828,0.8226480351097322,0.7964288739800233,0.770259040705287,0.7441868370649625,0.71825611413049,0.6925071867354503,0.6669777433119238,0.6417037100934816,0.6167200344586551,0.5920613588357557,0.5677625637351661,0.5438591657656306,0.5203875636122467,0.49738513163648324,0.47489016678568785,0.4529416997073436,0.4315791852398677,0.41084209073483796,0.3907694029365136,0.3713990754247873,0.3527674389713642,0.33490859664863454,0.3178538242714569,0.3016309948668414,0.2862640434910639,0.2717724859742267,0.2581710023859431,0.24546909261946598,0.23367080935562665,0.22277457019607952,0.21277304892014073,0.20365314369368254,0.1953960186146345,0.18797721400302148,0.18136682035830431,0.1755297108696907,0.17042582776474163,0.16601051828465915,0.16223491714680124,0.15904637295311413,0.1563889169570693,0.15420377310959843,0.15242990856447114,0.15100462367072223,0.14986417987408132,0.14894446286162777,0.14818167691503806,0.14751306414812196,0.1468776409389357,0.14621694083542183,0.1454757515489454,0.14460283150586467,0.14355158989006733,0.14228071309187018,0.1407547201395511,0.138944430079749,0.1368273258374,0.13438780016629506,0.13161727389006178,0.12851417826730943,0.12508379853794824,0.12133797963602017,0.11729469961792574,0.11297752076983245,0.10841493247703742,0.10363960355468117,0.0986875647365436,0.09359734402083757,0.08840907906655662,0.08316363086096437,0.07790172240408559,0.07266312455539527,0.0674859088635848,0.062405784202375886,0.05745553053248476,0.05266453921174557,0.048058465788433896,0.04365899571329595,0.03948372241333069,0.0355461308375739,0.03185567853765768,0.028417963281774244,0.02523496452674844,0.022305344918503674,0.019624797451959015,0.017186423941211205,0.014981131139322531,0.012998031414768182,0.011224836984818411,0.009648237499300967,0.008254253036677772,0.007028556208484054,0.005956758901782319,0.005024660908124215,0.004218459263343297,0.003524918488377592,0.0029315032759556926,0.0024264755491480413,0.001998959536299557,0.0016389779329907006,0.0013374631975826554,0.0010862478854538114,8.780379160509209E-4,7.0637249096378E-4,5.655741084518735E-4,4.5069176642251966E-4,3.574401515347305E-4,2.821369251204468E-4,2.216403149722409E-4,1.7328829889920314E-4,1.3484064932375351E-4,1.0442465869619515E-4,8.048509964407561E-5,6.173873117709864E-5,4.713346220375434E-5,3.581211816247753E-5,2.7080679652326465E-5,2.0380631342986518E-5,1.526525212388865E-5,1.1379374213504131E-5,8.442296920240215E-6,6.2334793388445544E-6,4.580658508702314E-6,3.3500604510744857E-6,2.4383978576569676E-6,1.766377653296373E-6,1.2734723193483707E-6,9.137393037992504E-7,6.525020141705578E-7,4.6373307687377984E-7,3.28005314056382E-7,2.3089801651023704E-7,1.6176552670077362E-7,1.1279195971942327E-7,7.827023673056149E-8,5.4055693124067565E-8],"r":null,"name":"virginica","fill":"tozeroy","mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#7570B3"},"lon":null,"lat":null,"x":[1.4000000000000001,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.6300000000000001,1.6400000000000001,1.6500000000000001,1.6600000000000001,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.8800000000000001,1.8900000000000001,1.9000000000000001,1.9100000000000001,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2.0,2.0100000000000002,2.02,2.0300000000000002,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.2600000000000002,2.27,2.2800000000000002,2.29,2.3000000000000003,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.5100000000000002,2.52,2.5300000000000002,2.54,2.5500000000000003,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.7600000000000002,2.77,2.7800000000000002,2.79,2.8000000000000003,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3.0,3.0100000000000002,3.02,3.0300000000000002,3.04,3.0500000000000003,3.06,3.0700000000000003,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.2600000000000002,3.27,3.2800000000000002,3.29,3.3000000000000003,3.31,3.3200000000000003,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.5100000000000002,3.52,3.5300000000000002,3.54,3.5500000000000003,3.56,3.5700000000000003,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.7600000000000002,3.77,3.7800000000000002,3.79,3.8000000000000003,3.81,3.8200000000000003,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4.0,4.01,4.0200000000000005,4.03,4.04,4.05,4.0600000000000005,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.2700000000000005,4.28,4.29,4.3,4.3100000000000005,4.32,4.33,4.34,4.3500000000000005,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.5200000000000005,4.53,4.54,4.55,4.5600000000000005,4.57,4.58],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"density"},"title":null}, {});</script></div>
</section>
</section>
<section id="layer-smooth" class="level3" data-number="4.6.11">
<h3 data-number="4.6.11" class="anchored" data-anchor-id="layer-smooth"><span class="header-section-number">4.6.11</span> <code>layer-smooth</code></h3>
<p><code>[context]</code></p>
<p><code>[context submap]</code></p>
<p>Add a smoothed layer layer to the given <code>dataset-or-template</code>, with possible additional substitutions if <code>submap</code> is provided.</p>
<p>Statistical <a href="https://en.wikipedia.org/wiki/Regression_analysis">regression</a> methods are applied to the dataset to model it as a smooth shape. It is inspired by ggplotâ€™s <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a>.</p>
<p><a href="#smooth-stat"><code>smooth-stat</code></a> is used internally as <a href="#stat"><code>:=stat</code></a>.</p>
<p>By default, the regression is computed with only one predictor variable, which is <a href="#x"><code>:=x</code></a>. This can be overriden using the <a href="#predictors"><code>:=predictors</code></a> key, which allows computing a regression with more than one predictor.</p>
<p>One can also specify the predictor columns as expressions through the <a href="#design-matrix"><code>:=design-matrix</code></a> key. Here, we use the design matrix functionality of <a href="https://github.com/scicloj/metamorph.ml">Metamorph.ml</a>.</p>
<p>One can also provide the regression model details through <a href="#model-options"><code>:=model-options</code></a> and use any regression model and parameters registered by Metamorph.ml.</p>
<p>The regressions computed are done on a group level, where the grouping can be inferred as <a href="#inferred-group"><code>:=inferred-group</code></a> but can also be user-overridden through <a href="#group"><code>:=group</code></a>.</p>
<section id="examples-2" class="level4" data-number="4.6.11.1">
<h4 data-number="4.6.11.1" class="anchored" data-anchor-id="examples-2"><span class="header-section-number">4.6.11.1</span> Examples:</h4>
<p>Simple linear regression of <a href="#y"><code>:=y</code></a> by <a href="#x"><code>:=x</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb39"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=x <span class="at">:sepal-width</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=mark-color <span class="st">"green"</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>                         :=name <span class="st">"Actual"</span>})</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-smooth {:=mark-color <span class="st">"orange"</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                          :=name <span class="st">"Predicted"</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"Actual","marker":{"color":"green"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[6.079500428634684,6.034828216408703,6.034828216408703,6.034828216408703,6.012492110295713,6.012492110295713,6.012492110295713,6.012492110295713,5.990156004182722,5.990156004182722,5.990156004182722,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.945483791956741,5.945483791956741,5.945483791956741,5.945483791956741,5.945483791956741,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.7891310491658095,5.7891310491658095,5.7891310491658095,5.7891310491658095,5.7891310491658095,5.7891310491658095,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.722122730826838,5.722122730826838,5.722122730826838,5.722122730826838,5.699786624713847,5.699786624713847,5.699786624713847,5.677450518600858,5.677450518600858,5.677450518600858,5.677450518600858,5.677450518600858,5.677450518600858,5.655114412487867,5.655114412487867,5.632778306374877,5.610442200261886,5.588106094148896,5.543433881922915],"r":null,"name":"Predicted","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"orange"},"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.2,2.3,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.3,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Multiple linear regression of <a href="#y"><code>:=y</code></a> by <a href="#predictors"><code>:=predictors</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb40"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=x <span class="at">:sepal-width</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=mark-color <span class="st">"green"</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                         :=name <span class="st">"Actual"</span>})</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-smooth {:=predictors [<span class="at">:petal-width</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">:petal-length</span>]</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>                          :=mark-opacity <span class="fl">0.5</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>                          :=name <span class="st">"Predicted"</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"Actual","marker":{"color":"green"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[5.767251906091401,6.149253779506225,6.038140482961454,6.420142356376278,5.942275314766285,6.158986176262327,4.799027560318565,5.65889647534338,5.875607336839423,5.65889647534338,5.897829996148376,6.085343667376112,6.757698911173192,5.942275314766285,5.464408273156292,6.292322132116052,5.952007711522388,6.365964641002267,6.260367076050995,6.190941232327384,5.767251906091401,7.193878499962027,6.777163704685397,5.974230370831341,6.346499847490062,6.4423650156852315,6.346499847490062,6.092318198335464,6.270099472807098,5.920052655457331,6.050630745514306,6.4548552782380835,5.856142543327218,6.353474378449415,5.942275314766285,6.203431494880235,6.213163891636338,6.215921757433087,7.181388237409175,6.206189360676985,6.186724567164779,6.8882770012301675,5.996453030140295,6.474320071750288,6.553478312230002,6.343741981693313,6.521523256164945,6.267341607010348,6.289564266319303,4.885160331757632,7.028587488043245,6.649343480425171,6.104808460888316,6.050630745514306,6.149253779506225,6.104808460888316,5.725564453270243,4.885160331757632,4.9171153878226885,4.754582241700657,4.993515762505653,4.830982616383621,4.853205275692575,5.986720633384193,6.149253779506225,6.127031120197271,6.356232244246165,6.149253779506225,5.996453030140295,6.235386550945291,6.082585801579363,6.716011458352034,6.629878686912966,7.095255465970107,6.499300596855991,6.595165765051161,6.270099472807098,6.821609023303305,6.760456776969942,6.215921757433087,6.272857338603847,6.368722506799016,6.378454903555118,4.993515762505653,6.595165765051161,4.9712931031966985,6.44512288148198,4.939338047131642,6.365964641002267,4.939338047131642,6.257609210254246,6.218679623229836,6.127031120197271,6.457613144034832,6.866054341921213,6.6521013462219205,4.77680490100961,4.830982616383621,4.993515762505653,4.885160331757632,6.215921757433087,6.314544791425005,6.289564266319303,6.149253779506225,6.327035053977857,4.830982616383621,6.5437459154739,4.885160331757632,6.22565415418919,6.607656027604012,6.479835803343787,6.642368949465818,4.951828309684494,4.853205275692575,4.939338047131642,4.993515762505653,4.885160331757632,4.92960565037554,4.875427935001529,5.156048908627684,5.047693477879664,4.939338047131642,6.117298723441168,6.381212769351868,6.457613144034832,4.830982616383621,4.939338047131642,4.885160331757632,4.853205275692575,4.865695538245427,4.799027560318565,6.696546664839829,4.6684494702615895,4.885160331757632,4.9171153878226885,4.939338047131642,4.875427935001529,4.939338047131642,4.907382991066585,5.015738421814607,4.993515762505653,5.092138796497571,7.0188550912871435,7.117478125279062,4.9837833657495505,4.767072504253508,4.77680490100961,4.9712931031966985,4.885160331757632,4.875427935001529],"r":null,"name":"Predicted","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.2,2.3,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.3,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Polynomial regression of <a href="#y"><code>:=y</code></a> by <a href="#design-matrix"><code>:=design-matrix</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb41"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=x <span class="at">:sepal-width</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=mark-color <span class="st">"green"</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                         :=name <span class="st">"Actual"</span>})</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-smooth {:=design-matrix [[<span class="at">:sepal-width</span> '(<span class="kw">identity</span> sepal-width)]</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                                           [<span class="at">:sepal-width-2</span> '(<span class="kw">*</span> sepal-width</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                                                               sepal-width)]]</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                          :=mark-opacity <span class="fl">0.5</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>                          :=name <span class="st">"Predicted"</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"Actual","marker":{"color":"green"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[5.623357228968145,5.752929009412403,5.752929009412403,5.752929009412403,5.804976768473553,5.804976768473553,5.804976768473553,5.804976768473553,5.848532440094051,5.848532440094051,5.848532440094051,5.883596024273897,5.883596024273897,5.883596024273897,5.883596024273897,5.883596024273897,5.883596024273897,5.883596024273897,5.883596024273897,5.91016752101309,5.91016752101309,5.91016752101309,5.91016752101309,5.91016752101309,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.92824693031163,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.937834252169518,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.938929486586753,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.931532633563336,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.915643693099266,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.891262665194544,5.85838954984917,5.85838954984917,5.85838954984917,5.85838954984917,5.85838954984917,5.85838954984917,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.817024347063143,5.767167056836463,5.767167056836463,5.767167056836463,5.767167056836463,5.767167056836463,5.767167056836463,5.708817679169131,5.708817679169131,5.708817679169131,5.708817679169131,5.641976214061147,5.641976214061147,5.641976214061147,5.566642661512509,5.566642661512509,5.566642661512509,5.566642661512509,5.566642661512509,5.566642661512509,5.482817021523218,5.482817021523218,5.390499294093276,5.289689479222682,5.180387576911434,4.936307509966982],"r":null,"name":"Predicted","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.2,2.3,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.3,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Custom regression defined by <a href="#model-options"><code>:=model-options</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb42"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">require</span> <span class="at">'scicloj.ml.tribuo</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb43"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> regression-tree-options</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  {<span class="at">:model-type</span> <span class="at">:scicloj.ml.tribuo/regression</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">:tribuo-components</span> [{<span class="at">:name</span> <span class="st">"cart"</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:type</span> <span class="st">"org.tribuo.regression.rtree.CARTRegressionTrainer"</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:properties</span> {<span class="at">:maxDepth</span> <span class="st">"8"</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">:fractionFeaturesInSplit</span> <span class="st">"1.0"</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">:seed</span> <span class="st">"12345"</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">:impurity</span> <span class="st">"mse"</span>}}</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>                       {<span class="at">:name</span> <span class="st">"mse"</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:type</span> <span class="st">"org.tribuo.regression.rtree.impurity.MeanSquaredError"</span>}]</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>   <span class="at">:tribuo-trainer-name</span> <span class="st">"cart"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb44"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=x <span class="at">:sepal-width</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=mark-color <span class="st">"green"</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                         :=name <span class="st">"Actual"</span>})</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-smooth {:=model-options regression-tree-options</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                          :=mark-opacity <span class="fl">0.5</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>                          :=name <span class="st">"Predicted"</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"Actual","marker":{"color":"green"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[5.0,6.066666603088379,6.066666603088379,6.066666603088379,5.325000047683716,5.325000047683716,5.325000047683716,5.325000047683716,5.300000031789144,5.300000031789144,5.300000031789144,5.762499988079071,5.762499988079071,5.762499988079071,5.762499988079071,5.762499988079071,5.762499988079071,5.762499988079071,5.762499988079071,6.15999994277954,6.15999994277954,6.15999994277954,6.15999994277954,6.15999994277954,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,5.855555640326605,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.335714272090366,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.059999990463257,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.015384600712703,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,6.0363636450334015,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,5.884615384615384,6.016666650772095,6.016666650772095,6.016666650772095,6.016666650772095,6.016666650772095,6.016666650772095,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.316666682561239,5.149999936421712,5.149999936421712,5.149999936421712,5.149999936421712,5.149999936421712,5.149999936421712,5.424999952316284,5.424999952316284,5.424999952316284,5.424999952316284,5.266666730244954,5.266666730244954,5.266666730244954,6.099999904632568,6.099999904632568,6.099999904632568,6.099999904632568,6.099999904632568,6.099999904632568,5.400000095367432,5.400000095367432,5.800000190734863,5.299999872843425,5.299999872843425,5.699999809265137],"r":null,"name":"Predicted","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"opacity":0.5,"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.2,2.3,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.3,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Grouped regression where <a href="#inferred-group"><code>:=inferred-group</code></a> is influenced by <code>:color</code> since <a href="#color-type"><code>:=color-type</code></a> is <code>:nominal</code>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb45"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=title <span class="st">"dummy"</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>                  :=color <span class="at">:species</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                  :=x <span class="at">:sepal-width</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    plotly/layer-point</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    plotly/layer-smooth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[4.227127599136464,4.641421429383028,4.71047040109079,4.71047040109079,4.71047040109079,4.71047040109079,4.71047040109079,4.71047040109079,4.77951937279855,4.77951937279855,4.77951937279855,4.77951937279855,4.848568344506311,4.848568344506311,4.848568344506311,4.848568344506311,4.848568344506311,4.917617316214071,4.917617316214071,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,4.986666287921832,5.055715259629592,5.055715259629592,5.055715259629592,5.055715259629592,5.055715259629592,5.055715259629592,5.124764231337354,5.124764231337354,5.124764231337354,5.193813203045114,5.193813203045114,5.193813203045114,5.262862174752874,5.262862174752874,5.262862174752874,5.262862174752874,5.3319111464606355,5.3319111464606355,5.4009601181683955,5.4700090898761555,5.539058061583917,5.677156004999438],"r":null,"name":"setosa","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#1B9E77"},"lon":null,"lat":null,"x":[2.3,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null},{"y":[5.269890155440416,5.4429056994818685,5.4429056994818685,5.529413471502593,5.529413471502593,5.529413471502593,5.615921243523319,5.615921243523319,5.615921243523319,5.702429015544045,5.702429015544045,5.702429015544045,5.702429015544045,5.78893678756477,5.78893678756477,5.78893678756477,5.875444559585497,5.875444559585497,5.875444559585497,5.875444559585497,5.875444559585497,5.961952331606222,5.961952331606222,5.961952331606222,5.961952331606222,5.961952331606222,5.961952331606222,6.048460103626947,6.048460103626947,6.048460103626947,6.048460103626947,6.048460103626947,6.048460103626947,6.048460103626947,6.134967875647674,6.134967875647674,6.134967875647674,6.134967875647674,6.134967875647674,6.134967875647674,6.134967875647674,6.134967875647674,6.2214756476684,6.2214756476684,6.2214756476684,6.307983419689125,6.307983419689125,6.307983419689125,6.39449119170985,6.480998963730577],"r":null,"name":"versicolor","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#D95F02"},"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.2,3.2,3.2,3.3,3.4],"text":null},{"y":[5.890212315058278,6.160672658058946,6.160672658058946,6.160672658058946,6.160672658058946,6.250826105725835,6.250826105725835,6.3409795533927245,6.3409795533927245,6.3409795533927245,6.3409795533927245,6.431133001059613,6.431133001059613,6.431133001059613,6.431133001059613,6.431133001059613,6.431133001059613,6.431133001059613,6.431133001059613,6.521286448726502,6.521286448726502,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.611439896393391,6.701593344060281,6.701593344060281,6.701593344060281,6.701593344060281,6.79174679172717,6.79174679172717,6.79174679172717,6.79174679172717,6.79174679172717,6.881900239394058,6.881900239394058,6.881900239394058,6.9720536870609475,6.9720536870609475,7.152360582394726,7.332667477728505,7.332667477728505],"r":null,"name":"virginica","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#7570B3"},"lon":null,"lat":null,"x":[2.2,2.5,2.5,2.5,2.5,2.6,2.6,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.4,3.4,3.6,3.8,3.8],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":"dummy"}, {});</script></div>
<p>Regression where grouping is avoiding using through <a href="#group"><code>:=group</code></a>:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb46"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    (plotly/base {:=title <span class="st">"dummy"</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                  :=color <span class="at">:species</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                  :=group []</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                  :=x <span class="at">:sepal-width</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>                  :=y <span class="at">:sepal-length</span>})</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    plotly/layer-point</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    plotly/layer-smooth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null},{"y":[6.079500428634684,6.034828216408703,6.034828216408703,6.012492110295713,6.012492110295713,6.012492110295713,5.990156004182722,5.990156004182722,5.990156004182722,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.945483791956741,5.945483791956741,5.945483791956741,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.878475473617771,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.83380326139179,5.83380326139179,5.83380326139179,5.811467155278799,5.811467155278799,5.811467155278799,5.7891310491658095,5.766794943052819],"r":null,"name":"versicolor","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#D95F02"},"lon":null,"lat":null,"x":[2.0,2.2,2.2,2.3,2.3,2.3,2.4,2.4,2.4,2.5,2.5,2.5,2.5,2.6,2.6,2.6,2.7,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,2.9,2.9,2.9,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.2,3.2,3.2,3.3,3.4],"text":null},{"y":[6.034828216408703,5.967819898069732,5.967819898069732,5.967819898069732,5.967819898069732,5.945483791956741,5.945483791956741,5.923147685843751,5.923147685843751,5.923147685843751,5.923147685843751,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.900811579730761,5.878475473617771,5.878475473617771,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.7891310491658095,5.7891310491658095,5.7891310491658095,5.766794943052819,5.766794943052819,5.722122730826838,5.677450518600858,5.677450518600858],"r":null,"name":"virginica","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#7570B3"},"lon":null,"lat":null,"x":[2.2,2.5,2.5,2.5,2.5,2.6,2.6,2.7,2.7,2.7,2.7,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.8,2.9,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.3,3.4,3.4,3.6,3.8,3.8],"text":null},{"y":[6.012492110295713,5.878475473617771,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.85613936750478,5.83380326139179,5.83380326139179,5.83380326139179,5.83380326139179,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.811467155278799,5.7891310491658095,5.7891310491658095,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.766794943052819,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.744458836939828,5.722122730826838,5.722122730826838,5.722122730826838,5.699786624713847,5.699786624713847,5.699786624713847,5.677450518600858,5.677450518600858,5.677450518600858,5.677450518600858,5.655114412487867,5.655114412487867,5.632778306374877,5.610442200261886,5.588106094148896,5.543433881922915],"r":null,"name":"setosa","fill":null,"mode":"lines","width":null,"type":"scatter","theta":null,"z":null,"line":{"color":"#1B9E77"},"lon":null,"lat":null,"x":[2.3,2.9,3.0,3.0,3.0,3.0,3.0,3.0,3.1,3.1,3.1,3.1,3.2,3.2,3.2,3.2,3.2,3.3,3.3,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.4,3.5,3.5,3.5,3.5,3.5,3.5,3.6,3.6,3.6,3.7,3.7,3.7,3.8,3.8,3.8,3.8,3.9,3.9,4.0,4.1,4.2,4.4],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":"dummy"}, {});</script></div>
</section>
</section>
<section id="plot" class="level3" data-number="4.6.12">
<h3 data-number="4.6.12" class="anchored" data-anchor-id="plot"><span class="header-section-number">4.6.12</span> <code>plot</code></h3>
<p><code>[template]</code></p>
<p>The <a href="#plot"><code>plot</code></a> function realizes a template as a Plotly.js specification.</p>
<section id="for-example-2" class="level4" data-number="4.6.12.1">
<h4 data-number="4.6.12.1" class="anchored" data-anchor-id="for-example-2"><span class="header-section-number">4.6.12.1</span> For example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb47"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    tc/head</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span>})</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    plotly/plot</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    kind/pprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb48"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:data</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a> [{<span class="at">:y</span> [<span class="fl">5.1</span> <span class="fl">4.9</span> <span class="fl">4.7</span> <span class="fl">4.6</span> <span class="fl">5.0</span>],</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">:r</span> <span class="va">nil</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">:name</span> <span class="st">""</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">:fill</span> <span class="va">nil</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">:mode</span> <span class="at">:markers</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">:width</span> <span class="va">nil</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>   <span class="at">:type</span> <span class="st">"scatter"</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">:theta</span> <span class="va">nil</span>,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>   <span class="at">:z</span> <span class="va">nil</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lon</span> <span class="va">nil</span>,</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>   <span class="at">:lat</span> <span class="va">nil</span>,</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>   <span class="at">:x</span> [<span class="fl">3.5</span> <span class="fl">3.0</span> <span class="fl">3.2</span> <span class="fl">3.1</span> <span class="fl">3.6</span>],</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>   <span class="at">:text</span> <span class="va">nil</span>}],</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a> <span class="at">:layout</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a> {<span class="at">:width</span> <span class="dv">500</span>,</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">:height</span> <span class="dv">400</span>,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">:margin</span> {<span class="at">:t</span> <span class="dv">25</span>},</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">:automargin</span> <span class="va">false</span>,</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">:plot</span>_bgcolor <span class="st">"rgb(235,235,235)"</span>,</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">:xaxis</span> {<span class="at">:gridcolor</span> <span class="st">"rgb(255,255,255)"</span>, <span class="at">:title</span> <span class="at">:sepal-width</span>},</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">:yaxis</span> {<span class="at">:gridcolor</span> <span class="st">"rgb(255,255,255)"</span>, <span class="at">:title</span> <span class="at">:sepal-length</span>},</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">:title</span> <span class="va">nil</span>}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This can be useful for editing the plot as a raw Plotly.js specification. For example:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb49"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span>})</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    plotly/plot</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">assoc-in</span> [<span class="at">:layout</span> <span class="at">:plot</span>_bgcolor] <span class="st">"floralwhite"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0,7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"","fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8,3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"floralwhite","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
</section>
</section>
<section id="debug" class="level3" data-number="4.6.13">
<h3 data-number="4.6.13" class="anchored" data-anchor-id="debug"><span class="header-section-number">4.6.13</span> <code>debug</code></h3>
<p><code>[template result]</code></p>
<p><code>[template layer-idx result]</code></p>
<p>(experimental)</p>
<p>Given a <code>template</code> and a <code>result</code> structure involving substitution keys, find out what value <code>result</code> would receive when realizing the template.</p>
<p>Given a <code>template</code>, a <code>layer-idx</code> integer, and a <code>result</code> structure involving substitution keys, find out what value <code>result</code> would receive when realizing the <code>layer-idx</code>th layer in the template.</p>
<section id="for-example-3" class="level4" data-number="4.6.13.1">
<h4 data-number="4.6.13.1" class="anchored" data-anchor-id="for-example-3"><span class="header-section-number">4.6.13.1</span> For example:</h4>
<div class="sourceClojure">
<div class="sourceCode" id="cb50"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:400px;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
              [{"y":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"r":null,"name":"setosa","marker":{"color":"#1B9E77"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"text":null},{"y":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"r":null,"name":"versicolor","marker":{"color":"#D95F02"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"text":null},{"y":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"r":null,"name":"virginica","marker":{"color":"#7570B3"},"fill":null,"mode":"markers","width":null,"type":"scatter","theta":null,"z":null,"lon":null,"lat":null,"x":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"text":null}], {"width":500,"height":400,"margin":{"t":25},"automargin":false,"plot_bgcolor":"rgb(235,235,235)","xaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-width"},"yaxis":{"gridcolor":"rgb(255,255,255)","title":"sepal-length"},"title":null}, {});</script></div>
<p>Let us verify that <a href="#background"><code>:=background</code></a> is deterimined to be grey.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb51"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span>})</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    (plotly/debug :=background))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb52"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="st">"rgb(235,235,235)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, let us verify <a href="#color-type"><code>:=color-type</code></a> for the 0th layer is deterimined to be <code>:nominal</code>.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb53"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span>})</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    (plotly/debug <span class="dv">0</span> :=color-type))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb54"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="at">:nominal</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, let us check both <a href="#color"><code>:=color</code></a> and <a href="#color-type"><code>:=color-type</code></a> for the 0th layer.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb55"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> datasets/iris</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    (plotly/layer-point {:=x <span class="at">:sepal-width</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                         :=y <span class="at">:sepal-length</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                         :=color <span class="at">:species</span>})</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    (plotly/debug <span class="dv">0</span> {<span class="at">:color</span> :=color</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">:color-type</span> :=color-type}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb56"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:color</span> <span class="at">:species</span>, <span class="at">:color-type</span> <span class="at">:nominal</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="stats" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="stats"><span class="header-section-number">4.7</span> Stats</h2>
<section id="histogram-stat" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="histogram-stat"><span class="header-section-number">4.7.1</span> <code>histogram-stat</code></h3>
<p>Compute a dataset representing the <a href="https://en.wikipedia.org/wiki/Histogram">histogram</a> of the <a href="#x"><code>:=x</code></a> column in <a href="#dataset"><code>:=dataset</code></a>.</p>
<p>The histogramâ€™s binning and counting are computed using <a href="https://github.com/generateme/fastmath">Fastmath</a>.</p>
<p>The number of bins is specified by <code>:histogram-nbins</code>.</p>
<p>If the grouping list of columns <a href="#group"><code>:=group</code></a> is specified, then the histogram is computed in groups.</p>
<p><strong>by default depends on</strong>: <a href="#dataset"><code>:=dataset</code></a> <a href="#group"><code>:=group</code></a> <a href="#x"><code>:=x</code></a> <a href="#histogram-nbins"><code>:=histogram-nbins</code></a></p>
</section>
<section id="density-stat" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="density-stat"><span class="header-section-number">4.7.2</span> <code>density-stat</code></h3>
<p>Compute a dataset representing the approximated <a href="https://en.wikipedia.org/wiki/Histogram">density</a> of the <a href="#x"><code>:=x</code></a> column in <a href="#dataset"><code>:=dataset</code></a>.</p>
<p>The density is estimated by Gaussian <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">kernel density estimation</a> using <a href="https://github.com/generateme/fastmath">Fastmath</a>.</p>
<p>The <a href="#density-bandwidth"><code>:=density-bandwidth</code></a> can controls the bandwidth. Otherwise, it is determined by a rule of thumb.</p>
<p>If the grouping list of columns <a href="#group"><code>:=group</code></a> is specified, then the density is estimated in groups.</p>
<p><strong>by default depends on</strong>: <a href="#dataset"><code>:=dataset</code></a> <a href="#group"><code>:=group</code></a> <a href="#x"><code>:=x</code></a> <a href="#density-bandwidth"><code>:=density-bandwidth</code></a></p>
</section>
<section id="smooth-stat" class="level3" data-number="4.7.3">
<h3 data-number="4.7.3" class="anchored" data-anchor-id="smooth-stat"><span class="header-section-number">4.7.3</span> <code>smooth-stat</code></h3>
<p>Compute a dataset with the <a href="#y"><code>:=y</code></a> column in <a href="#dataset"><code>:=dataset</code></a> replaced with its value predicted by regression, and with the results ordered by the <a href="#x"><code>:=x</code></a> column.</p>
<p>The predictor columns are specified by <a href="#design-matrix"><code>:=design-matrix</code></a></p>
<p>and the regression model is specified by <a href="#model-options"><code>:=model-options</code></a>.</p>
<p>If the grouping list of columns <a href="#group"><code>:=group</code></a> is specified, then the regression is computed in groups.</p>
<p><strong>by default depends on</strong>: <a href="#dataset"><code>:=dataset</code></a> <a href="#x"><code>:=x</code></a> <a href="#y"><code>:=y</code></a> <a href="#predictors"><code>:=predictors</code></a> <a href="#group"><code>:=group</code></a> <a href="#design-matrix"><code>:=design-matrix</code></a> <a href="#model-options"><code>:=model-options</code></a></p>
</section>
</section>
<section id="substitution-keys" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="substitution-keys"><span class="header-section-number">4.8</span> Substitution Keys</h2>
<section id="stat-1" class="level3" data-number="4.8.1">
<h3 data-number="4.8.1" class="anchored" data-anchor-id="stat-1"><span class="header-section-number">4.8.1</span> <a href="#stat"><code>:=stat</code></a></h3>
<p><strong>role:</strong> The data resulting from a possible statistical transformation.</p>
<p><strong>default:</strong> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="dataset" class="level3" data-number="4.8.2">
<h3 data-number="4.8.2" class="anchored" data-anchor-id="dataset"><span class="header-section-number">4.8.2</span> <a href="#dataset"><code>:=dataset</code></a></h3>
<p><strong>role:</strong> The data to be plotted.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="x" class="level3" data-number="4.8.3">
<h3 data-number="4.8.3" class="anchored" data-anchor-id="x"><span class="header-section-number">4.8.3</span> <a href="#x"><code>:=x</code></a></h3>
<p><strong>role:</strong> The column for the x axis.</p>
<p><strong>default:</strong> <a href="#:x"><code>:x</code></a></p>
</section>
<section id="x-after-stat" class="level3" data-number="4.8.4">
<h3 data-number="4.8.4" class="anchored" data-anchor-id="x-after-stat"><span class="header-section-number">4.8.4</span> <a href="#x-after-stat"><code>:=x-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the x axis to be used after <code>:=stat</code>.</p>
<p><strong>default:</strong> <a href="#x"><code>:=x</code></a></p>
</section>
<section id="y" class="level3" data-number="4.8.5">
<h3 data-number="4.8.5" class="anchored" data-anchor-id="y"><span class="header-section-number">4.8.5</span> <a href="#y"><code>:=y</code></a></h3>
<p><strong>role:</strong> The column for the y axis.</p>
<p><strong>default:</strong> <a href="#:y"><code>:y</code></a></p>
</section>
<section id="y-after-stat" class="level3" data-number="4.8.6">
<h3 data-number="4.8.6" class="anchored" data-anchor-id="y-after-stat"><span class="header-section-number">4.8.6</span> <a href="#y-after-stat"><code>:=y-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the y axis to be used after <code>:=stat</code>.</p>
<p><strong>default:</strong> <a href="#y"><code>:=y</code></a></p>
</section>
<section id="z" class="level3" data-number="4.8.7">
<h3 data-number="4.8.7" class="anchored" data-anchor-id="z"><span class="header-section-number">4.8.7</span> <a href="#z"><code>:=z</code></a></h3>
<p><strong>role:</strong> The column for the z axis.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="z-after-stat" class="level3" data-number="4.8.8">
<h3 data-number="4.8.8" class="anchored" data-anchor-id="z-after-stat"><span class="header-section-number">4.8.8</span> <a href="#z-after-stat"><code>:=z-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the z axis to be used after <code>:=stat</code>.</p>
<p><strong>default:</strong> <a href="#z"><code>:=z</code></a></p>
</section>
<section id="x0" class="level3" data-number="4.8.9">
<h3 data-number="4.8.9" class="anchored" data-anchor-id="x0"><span class="header-section-number">4.8.9</span> <a href="#x0"><code>:=x0</code></a></h3>
<p><strong>role:</strong> The column for the first x axis value, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="x0-after-stat" class="level3" data-number="4.8.10">
<h3 data-number="4.8.10" class="anchored" data-anchor-id="x0-after-stat"><span class="header-section-number">4.8.10</span> <a href="#x0-after-stat"><code>:=x0-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the first x axis value after <code>:=stat</code>, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <a href="#x0"><code>:=x0</code></a></p>
</section>
<section id="y0" class="level3" data-number="4.8.11">
<h3 data-number="4.8.11" class="anchored" data-anchor-id="y0"><span class="header-section-number">4.8.11</span> <a href="#y0"><code>:=y0</code></a></h3>
<p><strong>role:</strong> The column for the first y axis value, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="y0-after-stat" class="level3" data-number="4.8.12">
<h3 data-number="4.8.12" class="anchored" data-anchor-id="y0-after-stat"><span class="header-section-number">4.8.12</span> <a href="#y0-after-stat"><code>:=y0-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the first y axis value after <code>:=stat</code>, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <a href="#y0"><code>:=y0</code></a></p>
</section>
<section id="x1" class="level3" data-number="4.8.13">
<h3 data-number="4.8.13" class="anchored" data-anchor-id="x1"><span class="header-section-number">4.8.13</span> <a href="#x1"><code>:=x1</code></a></h3>
<p><strong>role:</strong> The column for the second x axis value, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="x1-after-stat" class="level3" data-number="4.8.14">
<h3 data-number="4.8.14" class="anchored" data-anchor-id="x1-after-stat"><span class="header-section-number">4.8.14</span> <a href="#x1-after-stat"><code>:=x1-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the second x axis value after <code>:=stat</code>, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <a href="#x1"><code>:=x1</code></a></p>
</section>
<section id="y1" class="level3" data-number="4.8.15">
<h3 data-number="4.8.15" class="anchored" data-anchor-id="y1"><span class="header-section-number">4.8.15</span> <a href="#y1"><code>:=y1</code></a></h3>
<p><strong>role:</strong> The column for the second y axis value, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="y1-after-stat" class="level3" data-number="4.8.16">
<h3 data-number="4.8.16" class="anchored" data-anchor-id="y1-after-stat"><span class="header-section-number">4.8.16</span> <a href="#y1-after-stat"><code>:=y1-after-stat</code></a></h3>
<p><strong>role:</strong> The column for the second y axis value after <code>:=stat</code>, in cases where pairs are needed, e.g.&nbsp;segment layers.</p>
<p><strong>default:</strong> <a href="#y1"><code>:=y1</code></a></p>
</section>
<section id="bar-width" class="level3" data-number="4.8.17">
<h3 data-number="4.8.17" class="anchored" data-anchor-id="bar-width"><span class="header-section-number">4.8.17</span> <a href="#bar-width"><code>:=bar-width</code></a></h3>
<p><strong>role:</strong> The column to determine the bar width in bar layers.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="color" class="level3" data-number="4.8.18">
<h3 data-number="4.8.18" class="anchored" data-anchor-id="color"><span class="header-section-number">4.8.18</span> <a href="#color"><code>:=color</code></a></h3>
<p><strong>role:</strong> The column to determine the color of marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="size" class="level3" data-number="4.8.19">
<h3 data-number="4.8.19" class="anchored" data-anchor-id="size"><span class="header-section-number">4.8.19</span> <a href="#size"><code>:=size</code></a></h3>
<p><strong>role:</strong> The column to determine the size of marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="x-type" class="level3" data-number="4.8.20">
<h3 data-number="4.8.20" class="anchored" data-anchor-id="x-type"><span class="header-section-number">4.8.20</span> <a href="#x-type"><code>:=x-type</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the x axis.</p>
<p><strong>default:</strong> Check the field type of the column specified by <a href="#x"><code>:=x</code></a> after <a href="#stat"><code>:=stat</code></a>.</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p><strong>by default depends on</strong>: <a href="#x"><code>:=x</code></a> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="x-type-after-stat" class="level3" data-number="4.8.21">
<h3 data-number="4.8.21" class="anchored" data-anchor-id="x-type-after-stat"><span class="header-section-number">4.8.21</span> <a href="#x-type-after-stat"><code>:=x-type-after-stat</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the x axis after <code>:=stat</code>.</p>
<p><strong>default:</strong></p>
<p><strong>by default depends on</strong>: <a href="#x-after-stat"><code>:=x-after-stat</code></a> <a href="#x"><code>:=x</code></a> <a href="#x-type"><code>:=x-type</code></a> <a href="#stat"><code>:=stat</code></a></p>
</section>
<section id="y-type" class="level3" data-number="4.8.22">
<h3 data-number="4.8.22" class="anchored" data-anchor-id="y-type"><span class="header-section-number">4.8.22</span> <a href="#y-type"><code>:=y-type</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the y axis.</p>
<p><strong>default:</strong> Check the field type of the column specified by <a href="#y"><code>:=y</code></a> after <a href="#stat"><code>:=stat</code></a>.</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p><strong>by default depends on</strong>: <a href="#y"><code>:=y</code></a> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="y-type-after-stat" class="level3" data-number="4.8.23">
<h3 data-number="4.8.23" class="anchored" data-anchor-id="y-type-after-stat"><span class="header-section-number">4.8.23</span> <a href="#y-type-after-stat"><code>:=y-type-after-stat</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the y axis after <code>:=stat</code>.</p>
<p><strong>default:</strong></p>
<p><strong>by default depends on</strong>: <a href="#y-after-stat"><code>:=y-after-stat</code></a> <a href="#y"><code>:=y</code></a> <a href="#y-type"><code>:=y-type</code></a> <a href="#stat"><code>:=stat</code></a></p>
</section>
<section id="z-type" class="level3" data-number="4.8.24">
<h3 data-number="4.8.24" class="anchored" data-anchor-id="z-type"><span class="header-section-number">4.8.24</span> <a href="#z-type"><code>:=z-type</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the z axis.</p>
<p><strong>default:</strong> Check the field type of the column specified by <a href="#z"><code>:=z</code></a> after <a href="#stat"><code>:=stat</code></a>.</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p><strong>by default depends on</strong>: <a href="#z"><code>:=z</code></a> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="z-type-after-stat" class="level3" data-number="4.8.25">
<h3 data-number="4.8.25" class="anchored" data-anchor-id="z-type-after-stat"><span class="header-section-number">4.8.25</span> <a href="#z-type-after-stat"><code>:=z-type-after-stat</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine the z axis after <code>:=stat</code>.</p>
<p><strong>default:</strong></p>
<p><strong>by default depends on</strong>: <a href="#z-after-stat"><code>:=z-after-stat</code></a> <a href="#z"><code>:=z</code></a> <a href="#z-type"><code>:=z-type</code></a> <a href="#stat"><code>:=stat</code></a></p>
</section>
<section id="r" class="level3" data-number="4.8.26">
<h3 data-number="4.8.26" class="anchored" data-anchor-id="r"><span class="header-section-number">4.8.26</span> <a href="#r"><code>:=r</code></a></h3>
<p><strong>role:</strong> The column for the radius in polar coordinates.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="theta" class="level3" data-number="4.8.27">
<h3 data-number="4.8.27" class="anchored" data-anchor-id="theta"><span class="header-section-number">4.8.27</span> <a href="#theta"><code>:=theta</code></a></h3>
<p><strong>role:</strong> The column for the angle in polar coordinates.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="lat" class="level3" data-number="4.8.28">
<h3 data-number="4.8.28" class="anchored" data-anchor-id="lat"><span class="header-section-number">4.8.28</span> <a href="#lat"><code>:=lat</code></a></h3>
<p><strong>role:</strong> The column for the latitude in geo coordinates.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="lon" class="level3" data-number="4.8.29">
<h3 data-number="4.8.29" class="anchored" data-anchor-id="lon"><span class="header-section-number">4.8.29</span> <a href="#lon"><code>:=lon</code></a></h3>
<p><strong>role:</strong> The column for the longitude in geo coordinates.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="color-type" class="level3" data-number="4.8.30">
<h3 data-number="4.8.30" class="anchored" data-anchor-id="color-type"><span class="header-section-number">4.8.30</span> <a href="#color-type"><code>:=color-type</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine mark color.</p>
<p><strong>default:</strong> Check the field type of the column specified by <a href="#color"><code>:=color</code></a> after <a href="#stat"><code>:=stat</code></a>.</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p><strong>by default depends on</strong>: <a href="#color"><code>:=color</code></a> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="size-type" class="level3" data-number="4.8.31">
<h3 data-number="4.8.31" class="anchored" data-anchor-id="size-type"><span class="header-section-number">4.8.31</span> <a href="#size-type"><code>:=size-type</code></a></h3>
<p><strong>role:</strong> The field type of the column used to determine mark size</p>
<p><strong>default:</strong> Check the field type of the column specified by <a href="#size"><code>:=size</code></a> after <a href="#stat"><code>:=stat</code></a>.</p>
<ul>
<li><code>:quantitative</code> - numerical columns</li>
<li><code>:temporal</code> - date-time columns</li>
<li><code>:nominal</code> - all other column types (e.g., Strings, keywords)</li>
</ul>
<p><strong>by default depends on</strong>: <a href="#size"><code>:=size</code></a> <a href="#dataset"><code>:=dataset</code></a></p>
</section>
<section id="mark-color" class="level3" data-number="4.8.32">
<h3 data-number="4.8.32" class="anchored" data-anchor-id="mark-color"><span class="header-section-number">4.8.32</span> <a href="#mark-color"><code>:=mark-color</code></a></h3>
<p><strong>role:</strong> A fixed color specification for marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="mark-size" class="level3" data-number="4.8.33">
<h3 data-number="4.8.33" class="anchored" data-anchor-id="mark-size"><span class="header-section-number">4.8.33</span> <a href="#mark-size"><code>:=mark-size</code></a></h3>
<p><strong>role:</strong> A fixed size specification for marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="marker-size-key" class="level3" data-number="4.8.34">
<h3 data-number="4.8.34" class="anchored" data-anchor-id="marker-size-key"><span class="header-section-number">4.8.34</span> <a href="#marker-size-key"><code>:=marker-size-key</code></a></h3>
<p><strong>role:</strong> What key does Plotly.js use to hold the marker size?</p>
<p><strong>default:</strong> Determine which Plotly.js key should be used to specify the mark size. For lines, it is <code>:width</code>. Otherwise, it is <code>:size</code>.</p>
<p><strong>by default depends on</strong>: <a href="#mode"><code>:=mode</code></a> <a href="#type"><code>:=type</code></a></p>
</section>
<section id="mark-fill" class="level3" data-number="4.8.35">
<h3 data-number="4.8.35" class="anchored" data-anchor-id="mark-fill"><span class="header-section-number">4.8.35</span> <a href="#mark-fill"><code>:=mark-fill</code></a></h3>
<p><strong>role:</strong> A fixed fill specification for marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="mark-opacity" class="level3" data-number="4.8.36">
<h3 data-number="4.8.36" class="anchored" data-anchor-id="mark-opacity"><span class="header-section-number">4.8.36</span> <a href="#mark-opacity"><code>:=mark-opacity</code></a></h3>
<p><strong>role:</strong> A fixed opacity specification for marks.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="text" class="level3" data-number="4.8.37">
<h3 data-number="4.8.37" class="anchored" data-anchor-id="text"><span class="header-section-number">4.8.37</span> <a href="#text"><code>:=text</code></a></h3>
<p><strong>role:</strong> The column to determine the text of marks (relevant for text layer).</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="textfont" class="level3" data-number="4.8.38">
<h3 data-number="4.8.38" class="anchored" data-anchor-id="textfont"><span class="header-section-number">4.8.38</span> <a href="#textfont"><code>:=textfont</code></a></h3>
<p><strong>role:</strong> Text font specification as defined in Plotly.js. See <a href="https://plotly.com/javascript/font/">Text and oFnt Styling</a>.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="mark-1" class="level3" data-number="4.8.39">
<h3 data-number="4.8.39" class="anchored" data-anchor-id="mark-1"><span class="header-section-number">4.8.39</span> <a href="#mark"><code>:=mark</code></a></h3>
<p><strong>role:</strong> The mark used for a layer (a Tablepot concept).</p>
<p><strong>default:</strong> <a href="#:point"><code>:point</code></a></p>
</section>
<section id="mode" class="level3" data-number="4.8.40">
<h3 data-number="4.8.40" class="anchored" data-anchor-id="mode"><span class="header-section-number">4.8.40</span> <a href="#mode"><code>:=mode</code></a></h3>
<p><strong>role:</strong> The Plotly.js mode used in a trace.</p>
<p><strong>default:</strong> Determine the Plotly.js mode for a trace.</p>
<p><strong>by default depends on</strong>: <a href="#mark"><code>:=mark</code></a></p>
</section>
<section id="type" class="level3" data-number="4.8.41">
<h3 data-number="4.8.41" class="anchored" data-anchor-id="type"><span class="header-section-number">4.8.41</span> <a href="#type"><code>:=type</code></a></h3>
<p><strong>role:</strong> The Plotly.js type used in a trace.</p>
<p><strong>default:</strong> Determine the Plotly.js type for a trace.</p>
<p><strong>by default depends on</strong>: <a href="#mark"><code>:=mark</code></a> <a href="#coordinates"><code>:=coordinates</code></a></p>
</section>
<section id="name" class="level3" data-number="4.8.42">
<h3 data-number="4.8.42" class="anchored" data-anchor-id="name"><span class="header-section-number">4.8.42</span> <a href="#name"><code>:=name</code></a></h3>
<p><strong>role:</strong> The layer name (which affects the Plotly.js traces names).</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="layers-1" class="level3" data-number="4.8.43">
<h3 data-number="4.8.43" class="anchored" data-anchor-id="layers-1"><span class="header-section-number">4.8.43</span> <a href="#layers"><code>:=layers</code></a></h3>
<p><strong>role:</strong> A vector of all lyaers in the plot (an inermediate Tableplot representation before converting to Plotly.js traces).</p>
<p><strong>default:</strong> <code>[]</code></p>
</section>
<section id="traces" class="level3" data-number="4.8.44">
<h3 data-number="4.8.44" class="anchored" data-anchor-id="traces"><span class="header-section-number">4.8.44</span> <a href="#traces"><code>:=traces</code></a></h3>
<p><strong>role:</strong> A vector of all Plotly.js traces in the plot.</p>
<p><strong>default:</strong> Create the Plotly.js traces from the Tableplot layers.</p>
<p><strong>by default depends on</strong>: <a href="#layers"><code>:=layers</code></a></p>
</section>
<section id="layout" class="level3" data-number="4.8.45">
<h3 data-number="4.8.45" class="anchored" data-anchor-id="layout"><span class="header-section-number">4.8.45</span> <a href="#layout"><code>:=layout</code></a></h3>
<p><strong>role:</strong> The layout part of the resulting Plotly.js specification.</p>
<p><strong>default:</strong> Create the layout part of the Plotly.js specification.</p>
<p><strong>by default depends on</strong>: <a href="#width"><code>:=width</code></a> <a href="#height"><code>:=height</code></a> <a href="#margin"><code>:=margin</code></a> <a href="#automargin"><code>:=automargin</code></a> <a href="#background"><code>:=background</code></a> <a href="#title"><code>:=title</code></a> <a href="#xaxis-gridcolor"><code>:=xaxis-gridcolor</code></a> <a href="#yaxis-gridcolor"><code>:=yaxis-gridcolor</code></a> <a href="#x-after-stat"><code>:=x-after-stat</code></a> <a href="#y-after-stat"><code>:=y-after-stat</code></a> <a href="#x-title"><code>:=x-title</code></a> <a href="#y-title"><code>:=y-title</code></a> <a href="#layers"><code>:=layers</code></a></p>
</section>
<section id="inferred-group" class="level3" data-number="4.8.46">
<h3 data-number="4.8.46" class="anchored" data-anchor-id="inferred-group"><span class="header-section-number">4.8.46</span> <a href="#inferred-group"><code>:=inferred-group</code></a></h3>
<p><strong>role:</strong> A list of columns to be used for grouping of statistical computations, inferred from other keys and data (e.g., <code>:=color</code>).</p>
<p><strong>default:</strong> Infer the relevant grouping for statistical layers such as <a href="#layer-smooth"><code>layer-smooth</code></a>. The <a href="#color"><code>:=color</code></a> column affects the grouing if and only if <a href="#color-type"><code>:=color-type</code></a> is <code>:nominal</code>. The <a href="#size"><code>:=size</code></a> column affects the grouing if and only if <a href="#size-type"><code>:=size-type</code></a> is <code>:nominal</code>.</p>
<p><strong>by default depends on</strong>: <a href="#color"><code>:=color</code></a> <a href="#color-type"><code>:=color-type</code></a> <a href="#size"><code>:=size</code></a> <a href="#size-type"><code>:=size-type</code></a></p>
</section>
<section id="group" class="level3" data-number="4.8.47">
<h3 data-number="4.8.47" class="anchored" data-anchor-id="group"><span class="header-section-number">4.8.47</span> <a href="#group"><code>:=group</code></a></h3>
<p><strong>role:</strong> A list of columns to be used for grouping of statisticsl computations, a possible user override of <code>:=inerred-group</code>.</p>
<p><strong>default:</strong> <a href="#inferred-group"><code>:=inferred-group</code></a></p>
</section>
<section id="predictors" class="level3" data-number="4.8.48">
<h3 data-number="4.8.48" class="anchored" data-anchor-id="predictors"><span class="header-section-number">4.8.48</span> <a href="#predictors"><code>:=predictors</code></a></h3>
<p><strong>role:</strong> The list of predictors to be used in regression (<code>layer-smooth</code>).</p>
<p><strong>default:</strong> <code>[:=x]</code></p>
</section>
<section id="design-matrix" class="level3" data-number="4.8.49">
<h3 data-number="4.8.49" class="anchored" data-anchor-id="design-matrix"><span class="header-section-number">4.8.49</span> <a href="#design-matrix"><code>:=design-matrix</code></a></h3>
<p><strong>role:</strong> The design matrix definition to be used in regression (<code>layer-smooth</code>).</p>
<p><strong>default:</strong> Determine a trivial design matrix specifiation from a set of <a href="#predictors"><code>:=predictors</code></a> columns. The design matrix simply uses these columns without any additional transformation.</p>
<p><strong>by default depends on</strong>: <a href="#predictors"><code>:=predictors</code></a></p>
</section>
<section id="model-options" class="level3" data-number="4.8.50">
<h3 data-number="4.8.50" class="anchored" data-anchor-id="model-options"><span class="header-section-number">4.8.50</span> <a href="#model-options"><code>:=model-options</code></a></h3>
<p><strong>role:</strong> The optional specification of a model for regression (<code>layer-smooth</code>).</p>
<p><strong>default:</strong> <code>{:model-type :fastmath/ols}</code></p>
</section>
<section id="histogram-nbins" class="level3" data-number="4.8.51">
<h3 data-number="4.8.51" class="anchored" data-anchor-id="histogram-nbins"><span class="header-section-number">4.8.51</span> <a href="#histogram-nbins"><code>:=histogram-nbins</code></a></h3>
<p><strong>role:</strong> The number of bins for <code>layer-histogram</code>.</p>
<p><strong>default:</strong> <code>10</code></p>
</section>
<section id="density-bandwidth" class="level3" data-number="4.8.52">
<h3 data-number="4.8.52" class="anchored" data-anchor-id="density-bandwidth"><span class="header-section-number">4.8.52</span> <a href="#density-bandwidth"><code>:=density-bandwidth</code></a></h3>
<p><strong>role:</strong> The bandwidth of density estimation for <code>layer-density</code>.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="coordinates-1" class="level3" data-number="4.8.53">
<h3 data-number="4.8.53" class="anchored" data-anchor-id="coordinates-1"><span class="header-section-number">4.8.53</span> <a href="#coordinates"><code>:=coordinates</code></a></h3>
<p><strong>role:</strong> The coordinates to use: <code>:2d</code>/<code>:3d</code>/<code>:polar</code>/<code>:geo</code>.</p>
<p><strong>default:</strong> <a href="#:2d"><code>:2d</code></a></p>
</section>
<section id="height" class="level3" data-number="4.8.54">
<h3 data-number="4.8.54" class="anchored" data-anchor-id="height"><span class="header-section-number">4.8.54</span> <a href="#height"><code>:=height</code></a></h3>
<p><strong>role:</strong> The plotâ€™s height.</p>
<p><strong>default:</strong> <code>400</code></p>
</section>
<section id="width" class="level3" data-number="4.8.55">
<h3 data-number="4.8.55" class="anchored" data-anchor-id="width"><span class="header-section-number">4.8.55</span> <a href="#width"><code>:=width</code></a></h3>
<p><strong>role:</strong> The plotâ€™s width.</p>
<p><strong>default:</strong> <code>500</code></p>
</section>
<section id="margin" class="level3" data-number="4.8.56">
<h3 data-number="4.8.56" class="anchored" data-anchor-id="margin"><span class="header-section-number">4.8.56</span> <a href="#margin"><code>:=margin</code></a></h3>
<p><strong>role:</strong> Plotly.js margin specification. See <a href="https://plotly.com/javascript/setting-graph-size/">Setting Graph Size in Javaspcrit</a>.</p>
<p><strong>default:</strong> <code>{:t 25}</code></p>
</section>
<section id="automargin" class="level3" data-number="4.8.57">
<h3 data-number="4.8.57" class="anchored" data-anchor-id="automargin"><span class="header-section-number">4.8.57</span> <a href="#automargin"><code>:=automargin</code></a></h3>
<p><strong>role:</strong> Should Plotly.js margins be automatically adjusted? See <a href="https://plotly.com/javascript/setting-graph-size/">Setting Graph Size in Javaspcrit</a>.</p>
<p><strong>default:</strong> <code>false</code></p>
</section>
<section id="x-title" class="level3" data-number="4.8.58">
<h3 data-number="4.8.58" class="anchored" data-anchor-id="x-title"><span class="header-section-number">4.8.58</span> <a href="#x-title"><code>:=x-title</code></a></h3>
<p><strong>role:</strong> The title for x axis.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="y-title" class="level3" data-number="4.8.59">
<h3 data-number="4.8.59" class="anchored" data-anchor-id="y-title"><span class="header-section-number">4.8.59</span> <a href="#y-title"><code>:=y-title</code></a></h3>
<p><strong>role:</strong> The title for y axis.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="title" class="level3" data-number="4.8.60">
<h3 data-number="4.8.60" class="anchored" data-anchor-id="title"><span class="header-section-number">4.8.60</span> <a href="#title"><code>:=title</code></a></h3>
<p><strong>role:</strong> The plot title.</p>
<p><strong>default:</strong> <code>NONE</code></p>
</section>
<section id="background" class="level3" data-number="4.8.61">
<h3 data-number="4.8.61" class="anchored" data-anchor-id="background"><span class="header-section-number">4.8.61</span> <a href="#background"><code>:=background</code></a></h3>
<p><strong>role:</strong> The plot background color.</p>
<p><strong>default:</strong> <code>"rgb(235,235,235)"</code></p>
</section>
<section id="xaxis-gridcolor" class="level3" data-number="4.8.62">
<h3 data-number="4.8.62" class="anchored" data-anchor-id="xaxis-gridcolor"><span class="header-section-number">4.8.62</span> <a href="#xaxis-gridcolor"><code>:=xaxis-gridcolor</code></a></h3>
<p><strong>role:</strong> The color for the x axis grid lines.</p>
<p><strong>default:</strong> <code>"rgb(255,255,255)"</code></p>
</section>
<section id="yaxis-gridcolor" class="level3" data-number="4.8.63">
<h3 data-number="4.8.63" class="anchored" data-anchor-id="yaxis-gridcolor"><span class="header-section-number">4.8.63</span> <a href="#yaxis-gridcolor"><code>:=yaxis-gridcolor</code></a></h3>
<p><strong>role:</strong> The color for the y axis grid lines.</p>
<p><strong>default:</strong> <code>"rgb(255,255,255)"</code></p>
<div style="background-color:grey;height:2px;width:100%;"></div>
<div><pre><small><small>source: <a href="https://github.com/scicloj/tableplot/blob/main/notebooks/tableplot_book/plotly_reference.clj">notebooks/tableplot_book/plotly_reference.clj</a></small></small></pre></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./tableplot_book.plotly_walkthrough.html" class="pagination-link" aria-label="Plotly walkthrough ðŸ‘£">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Plotly walkthrough ðŸ‘£</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./tableplot_book.hanami_walkthrough.html" class="pagination-link" aria-label="Hanami walkthrough ðŸ‘£">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Hanami walkthrough ðŸ‘£</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>